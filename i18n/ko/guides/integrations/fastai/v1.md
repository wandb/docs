---
displayed_sidebar: default
---

# fastai v1

:::note
이 문서는 fastai v1을 위한 것입니다.
현재 버전의 fastai를 사용하는 경우, [fastai 페이지](../intro.md)를 참조해야 합니다.
:::

fastai v1을 사용하는 스크립트의 경우, 모델 구조, 손실, 메트릭, 가중치, 그레이디언트, 샘플 예측값 및 가장 잘 훈련된 모델을 자동으로 로그하는 콜백이 있습니다.

```python
import wandb
from wandb.fastai import WandbCallback

wandb.init()

learn = cnn_learner(data, model, callback_fns=WandbCallback)
learn.fit(epochs)
```

요청한 로그 데이터는 콜백 생성자를 통해 구성 가능합니다.

```python
from functools import partial

learn = cnn_learner(
    data, model, callback_fns=partial(WandbCallback, input_type="images")
)
```

WandbCallback을 트레이닝을 시작할 때만 사용하는 것도 가능합니다. 이 경우에는 인스턴스화해야 합니다.

```python
learn.fit(epochs, callbacks=WandbCallback(learn))
```

그 단계에서 사용자 정의 파라미터도 제공될 수 있습니다.

```python
learn.fit(epochs, callbacks=WandbCallback(learn, input_type="images"))
```

## 예제 코드

인테그레이션 작동 방식을 확인할 수 있는 몇 가지 예제를 만들었습니다:

**Fastai v1**

* [심슨 캐릭터 분류하기](https://github.com/borisdayma/simpsons-fastai)[: ](https://app.wandb.ai/jxmorris12/huggingface-demo/reports/A-Step-by-Step-Guide-to-Tracking-Hugging-Face-Model-Performance--VmlldzoxMDE2MTU)Fastai 모델 추적 및 비교를 위한 간단한 데모
* [Fastai를 사용한 시멘틱 세그멘테이션](https://github.com/borisdayma/semantic-segmentation): 자율 주행 차량에서 신경망을 최적화하기

## 옵션

`WandbCallback()` 클래스는 다수의 옵션을 지원합니다:

| 키워드 인수       | 기본값    | 설명                                                                                                   |
| --------------- | -------- | ----------------------------------------------------------------------------------------------------- |
| learn           | N/A      | 훅할 fast.ai 학습기.                                                                                   |
| save_model      | True     | 각 단계에서 개선된 경우 모델을 저장합니다. 트레이닝이 끝날 때 최고의 모델을 로드합니다.                   |
| mode            | auto     | 'min', 'max', 또는 'auto': `monitor`에서 지정한 트레이닝 메트릭을 단계별로 어떻게 비교할지 결정합니다.     |
| monitor         | None     | 최고의 모델을 저장하기 위해 사용되는 트레이닝 메트릭. None은 검증 손실을 기본값으로 합니다.               |
| log             | gradients| "gradients", "parameters", "all", 또는 None. 손실 & 메트릭은 항상 로그됩니다.                         |
| input_type      | None     | "images" 또는 None. 샘플 예측값을 표시하는 데 사용됩니다.                                                |
| validation_data | None     | input_type이 설정된 경우 샘플 예측에 사용되는 데이터.                                                   |
| predictions     | 36       | input_type이 설정되고 validation_data가 None인 경우 만들 예측값의 수.                                  |
| seed            | 12345    | input_type이 설정되고 validation_data가 None인 경우 샘플 예측을 위한 랜덤 생성기를 초기화합니다.         |