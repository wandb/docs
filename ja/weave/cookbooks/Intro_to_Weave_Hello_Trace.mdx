---
title: ãƒˆãƒ¬ãƒ¼ã‚¹ ã¸ã®ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³
description: W&B Weave ã‚’ä½¿ç”¨ã—ãŸ ãƒˆãƒ¬ãƒ¼ã‚¹ ã®ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦å­¦ã³ã¾ã—ã‚‡ã†ã€‚
---

<Note>
ã“ã‚Œã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãª ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ ã§ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹ã‹ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š
- [Google Colab ã§é–‹ã](https://colab.research.google.com/github/wandb/docs/blob/main/weave/cookbooks/source/Intro_to_Weave_Hello_Trace.ipynb)
- [GitHub ã§ã‚½ãƒ¼ã‚¹ã‚’è¡¨ç¤º](https://github.com/wandb/docs/blob/main/weave/cookbooks/source/Intro_to_Weave_Hello_Trace.ipynb)
</Note>

## ğŸ”‘ äº‹å‰æº–å‚™

Weave ã§ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã®æº–å‚™ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚

1. W&B Weave SDK ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ [APIã‚­ãƒ¼](https://wandb.ai/settings#apikeys) ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
2. OpenAI SDK ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ [APIã‚­ãƒ¼](https://platform.openai.com/api-keys) ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
3. W&B Projects ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚

```python lines
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
!pip install wandb weave openai -q

import json
import os
from getpass import getpass

from openai import OpenAI

import weave

# ğŸ”‘ APIã‚­ãƒ¼ã®è¨­å®š
# ã“ã®ã‚»ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã¨ `getpass` ã«ã‚ˆã‚ŠAPIã‚­ãƒ¼ã®å…¥åŠ›ãŒæ±‚ã‚ã‚‰ã‚Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚
#####
print("---")
print(
    "W&B APIã‚­ãƒ¼ã‚’ã“ã¡ã‚‰ã§ä½œæˆã—ã¦ãã ã•ã„: https://wandb.ai/settings#apikeys"
)
os.environ["WANDB_API_KEY"] = getpass("W&B APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: ")
print("---")
print("OpenAI APIã‚­ãƒ¼ã¯ã“ã¡ã‚‰ã§ç”Ÿæˆã§ãã¾ã™: https://platform.openai.com/api-keys")
os.environ["OPENAI_API_KEY"] = getpass("OpenAI APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: ")
print("---")
#####

# ğŸ  W&B ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
weave_client = weave.init("MY_PROJECT_NAME")  # ğŸ ã‚ãªãŸã® W&B ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
```

## ğŸ æœ€åˆã®ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã™ã‚‹

ä»¥ä¸‹ã® ã‚³ãƒ¼ãƒ‰ ã‚µãƒ³ãƒ—ãƒ«ã¯ã€ `@weave.op` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ Weave ã§ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã€å¯è¦–åŒ–ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã¯ã€OpenAI ã® GPT-4o ã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é€ä¿¡ã—ã€æ–‡ç« ã‹ã‚‰æ§‹é€ åŒ– ãƒ‡ãƒ¼ã‚¿ ï¼ˆæœç‰©ã€è‰²ã€å‘³ï¼‰ã‚’æŠ½å‡ºã™ã‚‹ `extract_fruit` ã¨ã„ã†é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚é–¢æ•°ã« `@weave.op` ã‚’ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€Weave ã¯å…¥åŠ›ã€å‡ºåŠ›ã€ä¸­é–“ã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚€é–¢æ•°ã®å®Ÿè¡Œã‚’è‡ªå‹•çš„ã«è¿½è·¡ã—ã¾ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«æ–‡ç« ã§é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚¹ãŒä¿å­˜ã•ã‚Œã€ Weave UI ã§ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```python lines
@weave.op()  # ğŸ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¿½è·¡ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿
def extract_fruit(sentence: str) -> dict:
    client = OpenAI()
    system_prompt = (
        "Parse sentences into a JSON dict with keys: fruit, color and flavor."
    )
    response = client.chat.completions.create(
        model="gpt-4o",
        messages=[
            {"role": "system", "content": system_prompt},
            {"role": "user", "content": sentence},
        ],
        temperature=0.7,
        response_format={"type": "json_object"},
    )
    extracted = response.choices[0].message.content
    return json.loads(extracted)

sentence = "There are many fruits that were found on the recently discovered planet Goocrux. There are neoskizzles that grow there, which are purple and taste like candy."
extract_fruit(sentence)
```

## ğŸš€ ä»–ã®ä¾‹ã‚’ãŠæ¢ã—ã§ã™ã‹ï¼Ÿ
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ ã‚¬ã‚¤ãƒ‰](/weave/quickstart) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
- [é«˜åº¦ãªãƒˆãƒ¬ãƒ¼ã‚¹ã®ãƒˆãƒ”ãƒƒã‚¯](/weave/tutorial-tracing_2) ã«ã¤ã„ã¦è©³ã—ãå­¦ã¶ã€‚
- [Weave ã§ã®ãƒˆãƒ¬ãƒ¼ã‚¹](/weave/guides/tracking/tracing) ã«ã¤ã„ã¦è©³ã—ãå­¦ã¶ã€‚