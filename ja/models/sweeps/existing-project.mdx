---
title: チュートリアル： Project から Sweep ジョブを作成する
description: 既存の W&B プロジェクトから Sweep ジョブを作成する方法に関するチュートリアルです。
---

このチュートリアルでは、既存の W&B Projects から Sweeps ジョブを作成する方法を説明します。 [Fashion MNIST dataset](https://github.com/zalandoresearch/fashion-mnist) を使用して、画像を分類するための PyTorch 畳み込みニューラルネットワークをトレーニングします。必要な コード と データセット は、 [W&B examples repository (PyTorch CNN Fashion)](https://github.com/wandb/examples/tree/master/examples/pytorch/pytorch-cnn-fashion) にあります。

この [W&B Dashboard](https://app.wandb.ai/carey/pytorch-cnn-fashion) で結果を確認できます。

## 1. プロジェクトの作成

まず、 ベースライン を作成します。 W&B examples の GitHub リポジトリから PyTorch MNIST データセットの例となる モデル をダウンロードします。次に、モデル を トレーニング します。 トレーニングスクリプト は `examples/pytorch/pytorch-cnn-fashion` ディレクトリー内にあります。

1. リポジトリをクローンします： `git clone https://github.com/wandb/examples.git`
2. この例のディレクトリに移動します： `cd examples/pytorch/pytorch-cnn-fashion`
3. 手動で run を実行します： `python train.py`

任意で、 W&B App UI の ダッシュボード に表示される例を確認してください。

[プロジェクトページの例を表示 →](https://app.wandb.ai/carey/pytorch-cnn-fashion)

## 2. Sweep の作成

プロジェクト ページから、サイドバーの [Sweep タブ](./sweeps-ui) を開き、 **Create Sweep** を選択します。

<Frame>
    <img src="/images/sweeps/sweep1.png" alt="Sweep overview"  />
</Frame>

自動生成された 設定 は、完了した Runs に基づいてスイープする値を推測します。試行したい ハイパーパラメーター の範囲を指定するように 設定 を編集します。 Sweeps を ローンンチ すると、ホストされている W&B sweep server 上で新しい プロセス が開始されます。この集中型サービスは、トレーニング ジョブを実行するマシンである エージェント を調整します。

<Frame>
    <img src="/images/sweeps/sweep2.png" alt="Sweep configuration"  />
</Frame>

## 3. エージェントの起動

次に、ローカルで エージェント を起動します。作業を分散させて Sweeps ジョブをより速く完了させたい場合は、異なるマシン上で最大20個の エージェント を並列に起動できます。 エージェント は、次に試行する パラメータ のセットを出力します。

<Frame>
    <img src="/images/sweeps/sweep3.png" alt="Launch agents"  />
</Frame>

これで Sweeps が実行されています。次の画像は、例となる Sweeps ジョブの実行中に ダッシュボード がどのように見えるかを示しています。 [プロジェクトページの例を表示 →](https://app.wandb.ai/carey/pytorch-cnn-fashion)

<Frame>
    <img src="/images/sweeps/sweep4.png" alt="Sweep dashboard"  />
</Frame>

## 既存の Runs を使用して新しい Sweep を開始する

以前に ログ を記録した既存の Runs を使用して、新しい Sweeps を ローンンチ します。

1. プロジェクト のテーブルを開きます。
2. テーブルの左側にあるチェックボックスで、使用したい Runs を選択します。
3. ドロップダウンをクリックして、新しい Sweeps を作成します。

これで、 Sweeps が サーバー 上でセットアップされます。あとは1つ以上の エージェント を起動して Runs を開始するだけです。

<Frame>
    <img src="/images/sweeps/tutorial_sweep_runs.png" alt="Seed sweep from runs"  />
</Frame>

<Note>
ベイズ最適化（bayesian sweep）として新しい Sweeps を開始する場合、選択された Runs はガウス過程のシードとしても使用されます。
</Note>