---
title: Sweeps のトラブルシューティング
description: W&B Sweeps に関する一般的な問題のトラブルシューティング。
---

よくあるエラーメッセージのトラブルシューティングと解決策を以下に示します。

### `CommError, Run does not exist` および `ERROR Error uploading`

これら2つのエラーメッセージが両方返される場合、W&B Run ID が定義されている可能性があります。例えば、Jupyter Notebooks や Python スクリプト内で次のような コードスニペット を定義している場合です。

```python
wandb.init(id="some-string")
```

Sweeps によって作成される Runs には、W&B が自動的にランダムで一意な ID を生成するため、W&B Sweeps で Run ID を手動で設定することはできません。

W&B Run ID は プロジェクト 内で一意である必要があります。

テーブル やグラフに表示されるカスタム名を設定したい場合は、W&B の初期化時に `name` パラメータ に名前を渡すことをお勧めします。例：

```python
wandb.init(name="a helpful readable run name")
```

### `Cuda out of memory`

このエラーメッセージが表示された場合は、プロセスベースの実行を使用するように コード をリファクタリングしてください。具体的には、コード を Python スクリプト に書き換えます。さらに、W&B Python SDK ではなく、CLI から W&B sweep agent を呼び出します。

例として、`train.py` という名前の Python スクリプト に コード を書き換えたとします。トレーニングスクリプト の名前（`train.py`）を YAML 形式の sweep configuration ファイル（この例では `config.yaml`）に追加します。

```yaml
program: train.py
method: bayes
metric:
  name: validation_loss
  goal: maximize
parameters:
  learning_rate:
    min: 0.0001
    max: 0.1
  optimizer:
    values: ["adam", "sgd"]
```

次に、`train.py` Python スクリプト に以下を追加します。

```python
if _name_ == "_main_":
    train()
```

CLI に移動し、`wandb sweep` で W&B sweep を初期化します。

```shell
wandb sweep config.yaml
```

返された W&B sweep ID をメモします。次に、Python SDK ([`wandb.agent`](/models/ref/python/functions/agent)) ではなく CLI の [`wandb agent`](/models/ref/cli/wandb-agent) を使用して sweep ジョブを開始します。以下の コードスニペット の `sweep_ID` を、前のステップで返された sweep ID に置き換えてください。

```shell
wandb agent sweep_ID
```

### `anaconda 400 error`

以下のエラーは、最適化対象の メトリクス を ログ に記録していない場合によく発生します。

```shell
wandb: ERROR Error while calling W&B API: anaconda 400 error: 
{"code": 400, "message": "TypeError: bad operand type for unary -: 'NoneType'"}
```

YAML ファイルまたはネストされた 辞書 内で、最適化する "metric" という名前の キー を指定しています。この メトリクス を必ず ログ (`wandb.log`) に記録するようにしてください。また、Python スクリプト または Jupyter Notebook 内で、sweep が最適化するように定義した メトリクス 名と _完全に一致する_ 名前を使用していることを確認してください。設定ファイルの詳細については、[Define sweep configuration](/models/sweeps/define-sweep-configuration/) を参照してください。