---
title: Line plot リファレンス
---

このページでは、折れ線グラフの設定に関する詳細な情報を説明します。折れ線グラフの使い方の詳細については、[折れ線グラフの概要](/models/app/features/panels/line-plot) を参照してください。

## データ設定

### X軸

<Frame>
    <img src="/images/app_ui/reference_x_axis.png" alt="Selecting X-Axis"  />
</Frame>

X軸の範囲を、 `wandb.Run.log()` で ログ した任意の整数または浮動小数点数の 値 に設定します。

利用可能な時間ベースのX軸オプション：
* **Step**: `wandb.Run.log()` が呼び出されるたびにインクリメントされます。 モデル から ログ されたトレーニングステップ数を反映します。（デフォルト）
* **Relative Time (Wall)**: プロセス が開始されてからの実時間。 Run を開始して1日中断し、その後再開して ログ した場合、そのポイントは24時間後に表示されます。
* **Relative Time (Process)**: 実行中の プロセス 内の時間。 Run を開始して10秒間実行し、1日中断してから再開した場合、そのポイントは10秒後に表示されます。
* **Wall Time**: グラフ上の最初の Run が開始されてからの経過時間（分）。
* **X range**: デフォルトではX軸の最小値から最大値までです。最小値と最大値をカスタマイズできます。

### Y軸

Y軸の変数を、 `wandb.Run.log()` で ログ した任意の整数または浮動小数点数の 値 に設定します。単一の 値 、 値 の配列、または 値 のヒストグラムを指定します。1つの変数に対して1500ポイント以上 ログ した場合、W&Bは1500ポイントにダウンサンプリングします。

<Note>
Runs テーブルの Run の色を変更することで、Y軸の線の色をカスタマイズできます。
</Note>

利用可能なY軸オプション：
* **Y range**: デフォルトは、 メトリクス の最小正数値（0を含む）から最大値までです。最小値と最大値をカスタマイズできます。

### ポイント集計メソッド

データポイントを表示するためのサンプリングモードを選択します：
* **Random sampling**（デフォルト）: [Random sampling](/models/app/features/panels/line-plot/sampling/#random-sampling) を参照してください。
* **Full fidelity**: [Full fidelity](/models/app/features/panels/line-plot/sampling/#full-fidelity) を参照してください。

### スムージング

[スムージング係数](/models/support/formula_smoothing_algorithm/) を0から1の間で設定します。0はスムージングなし、1は最大のスムージングを意味します。

利用可能なスムージング メソッド ：
* **Time weighted EMA**（デフォルト）: 以前のポイントの重みを指数関数的に減衰させることで、 時系列 データを滑らかにする手法です。
* **Running average**: 特定のx値の前後にあるウィンドウ内のポイントの平均値でポイントを置き換えます。
* **Gaussian**: ポイントの重み付き平均を計算します。重みは、スムージング パラメータ として指定された標準偏差を持つガウス分布に対応します。
* **No smoothing**

詳細については、 [折れ線グラフのスムージング](/models/app/features/panels/line-plot/smoothing) を参照してください。

### 外れ値を無視

デフォルトのグラフの最小・最大スケールから外れ値を除外するようにグラフを再スケーリングします。この設定の影響は、グラフのサンプリングモードによって異なります：

- **Random sampling モード**: 外れ値を無視すると、グラフから下位5%と上位95%のポイントが除外されます。
- **Full fidelity モード**: 外れ値を無視すると、すべてのポイントが表示されますが、各 バケット の最後の 値 に凝縮され、下位5%と上位95%の領域が網掛け表示されます。

### 最大 Runs またはグループ

デフォルトでは、グラフには Run リストまたは Run セット内の最初の10個の Runs またはグループのみが含まれます。表示する Runs やグループを制御するには、ソート順を変更してください。

<Note>
Workspace は、 設定 に関わらず、最大1000個の Runs を表示することに制限されています。
</Note>

### チャートタイプ

グラフのスタイルを選択します：
- **Line plot**
    <Frame>
        <img src="/images/app_ui/plot_style_line_plot.png" alt="Line plot style"  />
    </Frame>
- **Area plot**
    <Frame>
        <img src="/images/app_ui/plot_style_area_plot.png" alt="Area plot style"  />
    </Frame>
- **Percentage area plot:**
    <Frame>
        <img src="/images/app_ui/plot_style_percentage_plot.png" alt="Percentage plot style"  />
    </Frame>

チャートタイプは **Data** タブで 設定 します。[](/models/app/features/panels/line-plot#individual-line-plot) を参照してください。

## グルーピング設定
グルーピングをオンにしてすべての Runs を集計するか、個別の変数でグループ化します。 Runs テーブルでグルーピングをオンにすると、グループが自動的にグラフに反映されます。

- **Group by**: カラムを選択します。そのカラムで同じ 値 を持つすべての Runs がグループ化されます。
- **Aggregation**: グラフ上の線の 値 。オプションは、グループの mean (平均)、median (中央値)、min (最小)、max (最大) です。

## チャート設定
タイトルと凡例の表示を 設定 します：

- **Panel title**: パネル の上部に表示されるタイトル。
- **X-axis title**: X軸のラベル。
- **Y-axis title**: Y軸のラベル。
- **Legend**: 凡例の表示/非表示、および位置を 設定 します。

## 凡例設定

凡例をカスタマイズして、 ログ された任意の 設定値 や、作成時間、 Run を作成した User などの Runs の メタデータ を表示できます。

### 凡例テンプレート

凡例名のテンプレートを定義します。

1. 歯車アイコンをクリックしてグラフ設定を開きます。
1. **Display preferences** タブに移動します。
1. **Advanced legend** を展開し、凡例テンプレートを指定します。
1. **Apply** をクリックします。

例：

`${run:displayName} - ${config:dropout}` は、 `royal-sweep - 0.5` のような凡例名を生成します。ここで `royal-sweep` は Run 名、 `0.5` は `dropout` という名前の 設定 パラメータ です。

### ポイント固有の値

`[[ ]]` 内に 値 を設定すると、チャートをホバーしたときに十字線にポイント固有の 値 を表示できます。

1. 歯車アイコンをクリックしてグラフ設定を開きます。
1. **Display preferences** タブに移動します。
1. タブの下部で、1つ以上のグラフの メトリクス に対してポイント固有の 値 を 設定 します。
1. **Apply** をクリックします。

例： `[[ $x: $y ($original) ]]` は "2: 3 (2.9)" のように表示されます。

`[[ ]]` 内でサポートされている 値 :

| 値 | 意味 |
| ------------ | ------------------------------------------ |
| `${x}` | Xの値 |
| `${y}` | Yの値（スムージング調整を含む） |
| `${original}` | スムージング調整を含まないYの値 |
| `${mean}` | グループ化された Runs の平均 |
| `${stddev}` | グループ化された Runs の標準偏差 |
| `${min}` | グループ化された Runs の最小値 |
| `${max}` | グループ化された Runs の最大値 |
| `${percent}` | 合計に対する割合（積み上げ面グラフ用） |

## 式 (Expressions)

カスタム計算式を追加して、派生 メトリクス を作成します。

### Y軸の式

メトリクス から派生した 値 をプロットします。例えば、 `1-accuracy` やその他の算術式を計算します。現在は単一の メトリクス をプロットする場合にのみ機能します。

サポートされている演算子: `+`, `-`, `*`, `/`, `%`, `**` (指数)。

ログ された メトリクス と、 ハイパーパラメーター などの 設定値 の両方を使用して、カスタムの線を計算できます。

### X軸の式

カスタム式を使用した計算値を用いて、X軸を再スケーリングします。

便利な変数:
* `_step`: デフォルトのX軸の 値 。
* `${summary:value}`: サマリーの 値 を参照します。