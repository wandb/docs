---
title: LDAP を使用した SSO の設定
---

W&B Server LDAP サーバーで認証情報を認証します。以下のガイドでは、W&B Server の設定を構成する方法を説明します。これには、必須およびオプションの設定、システム設定 UI からの LDAP 接続の設定手順が含まれます。また、アドレス、ベース識別名（Base DN）、属性など、LDAP 設定のさまざまな入力項目に関する情報も提供します。これらの属性は、W&B App UI から、または環境変数を使用して指定できます。アノニマスバインド、または管理者の DN とパスワードを使用したバインドのいずれかを設定できます。

{/* <Note>
W&B Team Admin は、アノニマスバインド、または管理者の DN とパスワードを使用したバインドのいずれかを設定できます。
</Note> */}

<Note>
W&B Admin ロールのみが、LDAP 認証の有効化および設定を行うことができます。
</Note>

## LDAP 接続の設定

<Tabs>
<Tab title="W&B App">
1. W&B App に移動します。 
2. 右上のプロファイルアイコンを選択します。ドロップダウンから **System Settings** を選択します。 
3. **Configure LDAP Client** を切り替えてオンにします。
4. フォームに詳細を入力します。各入力項目の詳細については、**設定パラメータ** セクションを参照してください。
5. **Update Settings** をクリックして設定をテストします。これにより、W&B サーバーとのテストクライアント/接続が確立されます。
6. 接続が確認されたら、**Enable LDAP Authentication** を切り替えてオンにし、**Update Settings** ボタンを選択します。
</Tab>
<Tab title="Environment variable">
以下の環境変数を使用して LDAP 接続を設定します：

| 環境変数 | 必須 | 例 |
| ----------------------------- | -------- | ------------------------------- |
| `LOCAL_LDAP_ADDRESS`          | はい | `ldaps://ldap.example.com:636`  |
| `LOCAL_LDAP_BASE_DN`          | はい | `email=mail,group=gidNumber`    |
| `LOCAL_LDAP_BIND_DN`          | いいえ | `cn=admin`, `dc=example,dc=org` |
| `LOCAL_LDAP_BIND_PW`          | いいえ |                                 |
| `LOCAL_LDAP_ATTRIBUTES`       | はい | `email=mail`, `group=gidNumber` |
| `LOCAL_LDAP_TLS_ENABLE`       | いいえ |                                 |
| `LOCAL_LDAP_GROUP_ALLOW_LIST` | いいえ |                                 |
| `LOCAL_LDAP_LOGIN`            | いいえ |                                 |

各環境変数の定義については、[設定パラメータ](#configuration-parameters) セクションを参照してください。分かりやすくするため、定義名から環境変数のプレフィックス `LOCAL_LDAP` は省略されています。
</Tab>
</Tabs>


## 設定パラメータ

以下の表は、必須およびオプションの LDAP 設定を一覧し、説明したものです。

| 環境変数 | 定義 | 必須 |
| -------------------- | ----------------------- | -------- |
| `ADDRESS`            | W&B Server をホストする VPC 内の LDAP サーバーのアドレス。 | はい |
| `BASE_DN`            | 検索を開始するルートパスであり、このディレクトリーに対してクエリを実行するために必要です。 | はい |
| `BIND_DN`            | LDAP サーバーに登録されている管理ユーザーのパス。LDAP サーバーが認証なしのバインドをサポートしていない場合に必要です。指定された場合、W&B Server はこのユーザーとして LDAP サーバーに接続します。それ以外の場合、W&B Server はアノニマスバインドを使用して接続します。 | いいえ |
| `BIND_PW`            | 管理ユーザーのパスワード。バインドの認証に使用されます。空欄の場合、W&B Server はアノニマスバインドを使用して接続します。 | いいえ |
| `ATTRIBUTES`         | メールアドレスとグループ ID の属性名をカンマ区切りの文字列で指定します。 | はい |
| `TLS_ENABLE`         | TLS を有効にします。 | いいえ |
| `GROUP_ALLOW_LIST`   | グループの許可リスト。 | いいえ |
| `LOGIN`              | W&B Server に認証のために LDAP を使用するように指示します。`True` または `False` に設定します。LDAP 設定をテストするために、オプションでこれを false に設定できます。LDAP 認証を開始するには、これを true に設定します。 | いいえ |