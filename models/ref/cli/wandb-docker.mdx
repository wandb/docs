---
title: wandb docker
---

import { GitHubLink } from '/snippets/en/_includes/github-source-link.mdx';

<GitHubLink url="https://github.com/wandb/wandb/blob/main/wandb/cli/cli.py#L2475" />


Run your code in a docker container.

    Run your program inside a Docker image with W&B configured. Set the
    ``WANDB_DOCKER`` and ``WANDB_API_KEY`` environment variables in the
    container and mount the current working directory at ``/app`` by
    default.

    Pass additional arguments to insert them into ``docker run`` before the
    image name. If you do not specify an image, select a default image
    automatically.

    ```sh
    wandb docker -v /mnt/dataset:/app/data
    wandb docker gcr.io/kubeflow-images-public/tensorflow-1.12.0-notebook-cpu:v0.4.0 --jupyter
    wandb docker wandb/deepo:keras-gpu --no-tty --cmd "python train.py --epochs=5"
    ```

    Override the container entrypoint by default to ensure ``wandb`` is
    installed. If you pass ``--jupyter``, ensure Jupyter is installed and
    start JupyterLab on port 8888.

    If NVIDIA Docker is available, use the NVIDIA runtime automatically.

    To set W&B environment variables for an existing ``docker run``
    command without modifying the entrypoint, use ``wandb docker-run``.
    

## Usage

```shell
wandb docker [OPTIONS] [DOCKER_RUN_ARGS]... [DOCKER_IMAGE]
```

## Arguments

### `docker_run_args`

| Name | Default | Type |
|------|---------|------|
| `docker_run_args` | None | STRING |

### `docker_image`

| Name | Default | Type |
|------|---------|------|
| `docker_image` | None | STRING |

## Options

### `nvidia`

Use the nvidia runtime, defaults to nvidia if nvidia-docker is present                

| Flag | Default | Type | 
|------|---------|------|
| `--nvidia` | False | BOOL |

### `digest`

Output the image digest and exit                

| Flag | Default | Type | 
|------|---------|------|
| `--digest` | False | BOOL |

### `jupyter`

Run jupyter lab in the container                

| Flag | Default | Type | 
|------|---------|------|
| `--jupyter` | False | BOOL |

### `dir`

Which directory to mount the code in the container                

| Flag | Default | Type | 
|------|---------|------|
| `--dir` | /app | STRING |

### `no_dir`

Don't mount the current directory                

| Flag | Default | Type | 
|------|---------|------|
| `--no-dir` | False | BOOL |

### `shell`

The shell to start the container with                

| Flag | Default | Type | 
|------|---------|------|
| `--shell` | /bin/bash | STRING |

### `port`

The host port to bind jupyter on                

| Flag | Default | Type | 
|------|---------|------|
| `--port` | 8888 | STRING |

### `cmd`

The command to run in the container                

| Flag | Default | Type | 
|------|---------|------|
| `--cmd` | None | STRING |

### `no_tty`

Run the command without a tty                

| Flag | Default | Type | 
|------|---------|------|
| `--no-tty` | False | BOOL |

### `help`

Show this message and exit.                

| Flag | Default | Type | 
|------|---------|------|
| `--help` | False | BOOL |

## CLI Help

```
Usage: docker [OPTIONS] [DOCKER_RUN_ARGS]... [DOCKER_IMAGE]

  Run your code in a docker container.

  Run your program inside a Docker image with W&B configured. Set the
  ``WANDB_DOCKER`` and ``WANDB_API_KEY`` environment variables in the
  container and mount the current working directory at ``/app`` by default.

  Pass additional arguments to insert them into ``docker run`` before the
  image name. If you do not specify an image, select a default image
  automatically.

  ```sh wandb docker -v /mnt/dataset:/app/data wandb docker gcr.io/kubeflow-
  images-public/tensorflow-1.12.0-notebook-cpu:v0.4.0 --jupyter wandb docker
  wandb/deepo:keras-gpu --no-tty --cmd "python train.py --epochs=5" ```

  Override the container entrypoint by default to ensure ``wandb`` is
  installed. If you pass ``--jupyter``, ensure Jupyter is installed and start
  JupyterLab on port 8888.

  If NVIDIA Docker is available, use the NVIDIA runtime automatically.

  To set W&B environment variables for an existing ``docker run`` command
  without modifying the entrypoint, use ``wandb docker-run``.

Options:
  --nvidia / --no-nvidia    Use the nvidia runtime, defaults to nvidia if
                            nvidia-docker is present
  --digest                  Output the image digest and exit
  --jupyter / --no-jupyter  Run jupyter lab in the container
  --dir TEXT                Which directory to mount the code in the container
  --no-dir                  Don't mount the current directory
  --shell TEXT              The shell to start the container with
  --port TEXT               The host port to bind jupyter on
  --cmd TEXT                The command to run in the container
  --no-tty                  Run the command without a tty
  --help                    Show this message and exit.
```

