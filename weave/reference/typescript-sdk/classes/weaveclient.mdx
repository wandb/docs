---
title: "Class: WeaveClient"
description: "TypeScript SDK reference"
---

[weave](../) / WeaveClient



## Table of contents

### Constructors

- [constructor](./weaveclient#constructor)

### Properties

- [projectId](./weaveclient#projectid)
- [settings](./weaveclient#settings)
- [traceServerApi](./weaveclient#traceserverapi)

### Methods

- [addScore](./weaveclient#addscore)
- [createCall](./weaveclient#createcall)
- [finishCall](./weaveclient#finishcall)
- [finishCallWithException](./weaveclient#finishcallwithexception)
- [get](./weaveclient#get)
- [getCall](./weaveclient#getcall)
- [getCallStack](./weaveclient#getcallstack)
- [getCalls](./weaveclient#getcalls)
- [getCallsIterator](./weaveclient#getcallsiterator)
- [getCurrentAttributes](./weaveclient#getcurrentattributes)
- [publish](./weaveclient#publish)
- [pushNewCall](./weaveclient#pushnewcall)
- [runWithAttributes](./weaveclient#runwithattributes)
- [runWithCallStack](./weaveclient#runwithcallstack)
- [saveCallEnd](./weaveclient#savecallend)
- [saveCallStart](./weaveclient#savecallstart)
- [saveOp](./weaveclient#saveop)
- [updateCall](./weaveclient#updatecall)
- [waitForBatchProcessing](./weaveclient#waitforbatchprocessing)

## Constructors

### constructor

• **new WeaveClient**(`traceServerApi`, `wandbServerApi`, `projectId`, `settings?`): [`WeaveClient`](./weaveclient)

#### Parameters

| Name | Type |
| :------ | :------ |
| `traceServerApi` | `Api`\<`any`\> |
| `wandbServerApi` | `WandbServerApi` |
| `projectId` | `string` |
| `settings` | `Settings` |

#### Returns

[`WeaveClient`](./weaveclient)

#### Defined in

[weaveClient.ts:100](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L100)

## Properties

### projectId

• **projectId**: `string`

#### Defined in

[weaveClient.ts:103](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L103)

___

### settings

• **settings**: `Settings`

#### Defined in

[weaveClient.ts:104](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L104)

___

### traceServerApi

• **traceServerApi**: `Api`\<`any`\>

#### Defined in

[weaveClient.ts:101](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L101)

## Methods

### addScore

▸ **addScore**(`predictCallId`, `scorerCallId`, `runnableRefUri`, `scorerOutput`): `Promise`\<`string`\>

Add a scorer result (e.g., scorer output) to a call.
Used in imperative evaluation to attach scorer results to predict calls.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `predictCallId` | `string` | ID of the predict call to attach feedback to |
| `scorerCallId` | `string` | ID of the scorer call that generated the feedback |
| `runnableRefUri` | `string` | URI of the scorer (Op or Object ref) |
| `scorerOutput` | `any` | Output of the scorer |

#### Returns

`Promise`\<`string`\>

#### Defined in

[weaveClient.ts:891](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L891)

___

### createCall

▸ **createCall**(`internalCall`, `opRef`, `params`, `parameterNames`, `thisArg`, `currentCall`, `parentCall`, `startTime`, `displayName?`, `attributes?`): `Promise`\<`void`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `internalCall` | `InternalCall` |
| `opRef` | `any` |
| `params` | `any`[] |
| `parameterNames` | `ParameterNamesOption` |
| `thisArg` | `any` |
| `currentCall` | `CallStackEntry` |
| `parentCall` | `undefined` \| `CallStackEntry` |
| `startTime` | `Date` |
| `displayName?` | `string` |
| `attributes?` | `Record`\<`string`, `any`\> |

#### Returns

`Promise`\<`void`\>

#### Defined in

[weaveClient.ts:746](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L746)

___

### finishCall

▸ **finishCall**(`call`, `result`, `currentCall`, `parentCall`, `summarize`, `endTime`, `startCallPromise`): `Promise`\<`void`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `call` | `InternalCall` |
| `result` | `any` |
| `currentCall` | `CallStackEntry` |
| `parentCall` | `undefined` \| `CallStackEntry` |
| `summarize` | `undefined` \| (`result`: `any`) => `Record`\<`string`, `any`\> |
| `endTime` | `Date` |
| `startCallPromise` | `Promise`\<`void`\> |

#### Returns

`Promise`\<`void`\>

#### Defined in

[weaveClient.ts:798](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L798)

___

### finishCallWithException

▸ **finishCallWithException**(`call`, `error`, `currentCall`, `parentCall`, `endTime`, `startCallPromise`): `Promise`\<`void`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `call` | `InternalCall` |
| `error` | `any` |
| `currentCall` | `CallStackEntry` |
| `parentCall` | `undefined` \| `CallStackEntry` |
| `endTime` | `Date` |
| `startCallPromise` | `Promise`\<`void`\> |

#### Returns

`Promise`\<`void`\>

#### Defined in

[weaveClient.ts:838](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L838)

___

### get

▸ **get**(`ref`): `Promise`\<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `ref` | [`ObjectRef`](./objectref) |

#### Returns

`Promise`\<`any`\>

#### Defined in

[weaveClient.ts:289](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L289)

___

### getCall

▸ **getCall**(`callId`, `includeCosts?`): `Promise`\<`Call`\>

#### Parameters

| Name | Type | Default value |
| :------ | :------ | :------ |
| `callId` | `string` | `undefined` |
| `includeCosts` | `boolean` | `false` |

#### Returns

`Promise`\<`Call`\>

#### Defined in

[weaveClient.ts:220](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L220)

___

### getCallStack

▸ **getCallStack**(): `CallStack`

#### Returns

`CallStack`

#### Defined in

[weaveClient.ts:657](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L657)

___

### getCalls

▸ **getCalls**(`filter?`, `includeCosts?`, `limit?`): `Promise`\<`Call`[]\>

#### Parameters

| Name | Type | Default value |
| :------ | :------ | :------ |
| `filter` | [`CallsFilter`](../interfaces/callsfilter) | `{}` |
| `includeCosts` | `boolean` | `false` |
| `limit` | `number` | `1000` |

#### Returns

`Promise`\<`Call`[]\>

#### Defined in

[weaveClient.ts:230](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L230)

___

### getCallsIterator

▸ **getCallsIterator**(`filter?`, `includeCosts?`, `limit?`): `AsyncIterableIterator`\<[`CallSchema`](../interfaces/callschema)\>

#### Parameters

| Name | Type | Default value |
| :------ | :------ | :------ |
| `filter` | [`CallsFilter`](../interfaces/callsfilter) | `{}` |
| `includeCosts` | `boolean` | `false` |
| `limit` | `number` | `1000` |

#### Returns

`AsyncIterableIterator`\<[`CallSchema`](../interfaces/callschema)\>

#### Defined in

[weaveClient.ts:244](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L244)

___

### getCurrentAttributes

▸ **getCurrentAttributes**(): `Record`\<`string`, `any`\>

#### Returns

`Record`\<`string`, `any`\>

#### Defined in

[weaveClient.ts:661](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L661)

___

### publish

▸ **publish**(`obj`, `objId?`): `Promise`\<[`ObjectRef`](./objectref)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `obj` | `any` |
| `objId?` | `string` |

#### Returns

`Promise`\<[`ObjectRef`](./objectref)\>

#### Defined in

[weaveClient.ts:208](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L208)

___

### pushNewCall

▸ **pushNewCall**(): `Object`

#### Returns

`Object`

| Name | Type |
| :------ | :------ |
| `currentCall` | `CallStackEntry` |
| `newStack` | `CallStack` |
| `parentCall?` | `CallStackEntry` |

#### Defined in

[weaveClient.ts:665](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L665)

___

### runWithAttributes

▸ **runWithAttributes**\<`T`\>(`attributes`, `fn`): `T`

#### Type parameters

| Name |
| :------ |
| `T` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `attributes` | `Record`\<`string`, `any`\> |
| `fn` | () => `T` |

#### Returns

`T`

#### Defined in

[weaveClient.ts:673](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L673)

___

### runWithCallStack

▸ **runWithCallStack**\<`T`\>(`callStack`, `fn`): `T`

#### Type parameters

| Name |
| :------ |
| `T` |

#### Parameters

| Name | Type |
| :------ | :------ |
| `callStack` | `CallStack` |
| `fn` | () => `T` |

#### Returns

`T`

#### Defined in

[weaveClient.ts:669](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L669)

___

### saveCallEnd

▸ **saveCallEnd**(`callEnd`): `void`

#### Parameters

| Name | Type |
| :------ | :------ |
| `callEnd` | `EndedCallSchemaForInsert` |

#### Returns

`void`

#### Defined in

[weaveClient.ts:652](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L652)

___

### saveCallStart

▸ **saveCallStart**(`callStart`): `void`

#### Parameters

| Name | Type |
| :------ | :------ |
| `callStart` | `StartedCallSchemaForInsert` |

#### Returns

`void`

#### Defined in

[weaveClient.ts:647](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L647)

___

### saveOp

▸ **saveOp**(`op`, `objId?`): `Promise`\<`any`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `op` | [`Op`](../#op)\<(...`args`: `any`[]) => `any`\> |
| `objId?` | `string` |

#### Returns

`Promise`\<`any`\>

#### Defined in

[weaveClient.ts:712](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L712)

___

### updateCall

▸ **updateCall**(`callId`, `displayName`): `Promise`\<`void`\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `callId` | `string` |
| `displayName` | `string` |

#### Returns

`Promise`\<`void`\>

#### Defined in

[weaveClient.ts:874](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L874)

___

### waitForBatchProcessing

▸ **waitForBatchProcessing**(): `Promise`\<`void`\>

#### Returns

`Promise`\<`void`\>

#### Defined in

[weaveClient.ts:121](https://github.com/wandb/weave/blob/e1c78048d5177d4307db5a8cfc1d64e80c448831/sdks/node/src/weaveClient.ts#L121)