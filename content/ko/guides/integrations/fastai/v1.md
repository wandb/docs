---
title: fastai v1
menu:
  default:
    identifier: ko-guides-integrations-fastai-v1
    parent: fastai
---

{{% alert %}}
이 문서는 fastai v1에 대한 문서입니다.
최신 fastai 버전을 사용하는 경우, [fastai 페이지]({{< relref path="../" lang="ko" >}})를 참고하세요.
{{% /alert %}}

fastai v1을 사용하는 스크립트에서는, 모델 구조, 손실값, 메트릭, 가중치, 그레이디언트, 예측값 샘플, 최고 성능 모델을 자동으로 로그할 수 있는 콜백을 제공합니다.

```python
import wandb
from wandb.fastai import WandbCallback

wandb.init()

learn = cnn_learner(data, model, callback_fns=WandbCallback)
learn.fit(epochs)
```

로그할 데이터는 콜백 생성자에서 옵션으로 설정할 수 있습니다.

```python
from functools import partial

learn = cnn_learner(
    data, model, callback_fns=partial(WandbCallback, input_type="images")
)
```

트레이닝을 시작할 때만 WandbCallback을 사용할 수도 있습니다. 이 경우 콜백을 직접 인스턴스화해야 합니다.

```python
learn.fit(epochs, callbacks=WandbCallback(learn))
```

이 시점에서 커스텀 파라미터도 전달할 수 있습니다.

```python
learn.fit(epochs, callbacks=WandbCallback(learn, input_type="images"))
```

## 예제 코드

인테그레이션이 어떻게 작동하는지 확인할 수 있는 예제를 몇 가지 소개합니다:

**Fastai v1**

* [Simpsons 캐릭터 분류](https://github.com/borisdayma/simpsons-fastai): Fastai 모델의 추적 및 비교를 위한 간단한 데모
* [Fastai로 시멘틱 세그멘테이션](https://github.com/borisdayma/semantic-segmentation): 자율주행 자동차 신경망 최적화

## 옵션

`WandbCallback()` 클래스는 다양한 옵션을 지원합니다:

| 키워드 인수      | 기본값    | 설명                                                                                              |
| ---------------- | --------- | -------------------------------------------------------------------------------------------------- |
| learn            | N/A       | 연결할 fast.ai learner 객체입니다.                                                                 |
| save_model       | True      | 성능이 향상될 때마다 모델을 저장합니다. 트레이닝 종료 후 최고의 모델을 자동으로 로드합니다.         |
| mode             | auto      | `min`, `max`, 또는 `auto`: `monitor`에 지정된 트레이닝 메트릭을 에포크별로 어떻게 비교할지 설정합니다.|
| monitor          | None      | 최고의 모델 저장에 사용할 트레이닝 메트릭입니다. None이면 validation loss가 기본값입니다.           |
| log              | gradients | `gradients`, `parameters`, `all` 또는 None 중 선택. 손실값과 메트릭은 항상 로그됩니다.             |
| input_type       | None      | `images` 또는 `None`. 예측값 샘플을 시각화할 때 사용합니다.                                         |
| validation_data  | None      | `input_type`이 지정된 경우 예측 샘플에 사용할 데이터입니다.                                         |
| predictions      | 36        | `input_type`과 `validation_data`가 None일 때 생성할 예측 샘플 수입니다.                            |
| seed             | 12345     | `input_type`과 `validation_data`가 None일 때 예측 샘플 생성을 위한 난수 시드입니다.                |