---
title: 折れ線グラフ リファレンス
menu:
  default:
    identifier: reference
    parent: line-plot
weight: 10
---

## X軸

{{< img src="/images/app_ui/reference_x_axis.png" alt="X軸の選択" >}}

折れ線グラフのX軸は、W&B.logで数値として ログ されているものであれば、どの値でも設定できます。

## Y軸変数

Y軸の変数も、wandb.logで数値、数値配列、または数値のヒストグラムとして ログ していれば設定できます。ひとつの変数に対して1500点を超えて ログ した場合、W&Bは1500点へサンプリングして表示します。

{{% alert %}}
Y軸線の色は、runsテーブルでrunの色を変更することで変えることができます。
{{% /alert %}}

## X範囲・Y範囲

プロットのXおよびYの最大値・最小値は変更できます。

X範囲のデフォルトは、X軸の最小値から最大値までです。

Y範囲のデフォルトは、メトリクスの最小値またはゼロから、メトリクスの最大値までです。

## 最大 runs／グループ

デフォルトでは、最大10個の run またはrunグループのみがプロットされます。どのrunが表示されるかは、runsテーブルまたはrunセットの上部から選ばれます。テーブルやrunセットを並び替えることで表示するrunsを変更できます。

{{% alert %}}
ワークスペース では、設定にかかわらず最大1000 run までしか表示できません。
{{% /alert %}}

## 凡例

凡例には、runごとに ログ した任意のconfig値や、作成日時、runを作成したユーザーといったrunのメタデータを表示することができます。

例：

`${run:displayName} - ${config:dropout}` と設定すると、凡例名は `royal-sweep - 0.5` のようになり、`royal-sweep`はrun名、`0.5`は`dropout`という設定パラメータの値になります。

`[[ ]]` の中に値を指定すると、グラフ上でカーソルを合わせた際に、そのポイント固有の値をクロスヘア表示で確認できます。例えば `\[\[ $x: $y ($original) ]]` とすると、「2: 3 (2.9)」のような表示になります。

`[[ ]]` 内で使用できる値は以下の通りです：

| 値            | 意味                                        |
| ------------- | ------------------------------------------- |
| `${x}`        | X値                                         |
| `${y}`        | Y値（スムージング調整後）                   |
| `${original}` | スムージング調整前のY値                     |
| `${mean}`     | グループ化されたrunsの平均                   |
| `${stddev}`   | グループ化されたrunsの標準偏差               |
| `${min}`      | グループ内の最小値                          |
| `${max}`      | グループ内の最大値                          |
| `${percent}`  | 合計に対するパーセンテージ（積み上げ面グラフ用） |

## グルーピング

グルーピング機能を有効にすると、すべてのrunをまとめて集約できます。また、特定の変数ごとにグループ化することも可能です。テーブル上でグループ化を設定すると、自動的にグラフにもグループが反映されます。

## スムージング

[スムージング係数]({{< relref "/support/kb-articles/formula_smoothing_algorithm.md" >}})は0から1の間で設定できます。0はスムージングなし、1は最大限スムージングされます。

## 外れ値を無視

プロットのスケールを外れ値を除いた範囲にリスケールします。この設定の影響は、プロットのサンプリングモードによって変わります。

- [ランダムサンプリングモード]({{< relref "sampling.md#random-sampling" >}})では、**外れ値を無視** を有効にすると、下位5%から上位95%までのポイントのみが表示されます。外れ値が表示される場合も、他の点と区別されません。
- [フルフィデリティモード]({{< relref "sampling.md#full-fidelity" >}})では、すべてのポイントが常に表示されますが、各バケット内の最新値にまとめられます。**外れ値を無視**をオンにすると、各バケットの最小・最大範囲が陰影で示されます。オフの場合は陰影が表示されません。

## 式（エクスプレッション）

式を使うことで、1-accuracy のようにメトリクスから派生した値をプロットできます。現在は1つのメトリクスをグラフ化する場合のみ使えます。+、-、\*、/、%、そして累乗のための\*\* など、単純な算術式が利用可能です。

## プロットスタイル

折れ線グラフのスタイルを選択できます。

**折れ線プロット:**

{{< img src="/images/app_ui/plot_style_line_plot.png" alt="折れ線プロットスタイル" >}}

**エリアプロット:**

{{< img src="/images/app_ui/plot_style_area_plot.png" alt="エリアプロットスタイル" >}}

**パーセンテージエリアプロット:**

{{< img src="/images/app_ui/plot_style_percentage_plot.png" alt="パーセンテージプロットスタイル" >}}