---
title: 折れ線グラフのリファレンス
menu:
  default:
    identifier: ja-guides-models-app-features-panels-line-plot-reference
    parent: line-plot
weight: 10
---

## X軸

{{< img src="/images/app_ui/reference_x_axis.png" alt="X軸の選択" >}}

折れ線グラフの X軸には、W&B.logで数値として常にログを記録しているデータであれば、任意の値を設定できます。

## Y軸の変数

Y軸の変数には、wandb.log で記録した値のうち、数値・数値の配列・数値のヒストグラムであれば設定できます。もし1つの変数に1500点以上ログしている場合、W&Bは1500点まで間引いて表示します。

{{% alert %}}
y軸ラインの色は、runsテーブルで run の色を変更することで変えられます。
{{% /alert %}}

## X範囲とY範囲

プロットのXおよびYの最大値・最小値を変更できます。

X範囲のデフォルトは、X軸の最小値から最大値までです。

Y範囲のデフォルトは、メトリクスの最小値、ゼロ、メトリクスの最大値までです。

## 最大表示 run・グループ数

デフォルトでは、プロットされる run または run のグループは10個のみです。表示される run は、runs テーブルまたは run セットの上位から選ばれます。run テーブルや run セットを並べ替えることで、表示される run を変更できます。

{{% alert %}}
Workspace では、設定にかかわらず最大1000 run までしか表示できません。
{{% /alert %}}

## 凡例（レジェンド）

各 run に対し、ログした任意の config 値や run の作成日時・作成者ユーザーなどのメタデータを凡例に表示することができます。

例：

`${run:displayName} - ${config:dropout}` と設定すると、各 run の凡例名は `royal-sweep - 0.5` のようになります（`royal-sweep`は run 名、`0.5`は config パラメータ `dropout` の値）。

グラフ上にホバーしたとき、`[[ ]]` 内に値を設定することで、そのポイントの値をクロスヘアで表示できます。例えば `\[\[ $x: $y ($original) ]]` とすると「2: 3 (2.9)」のように表示されます。

`[[ ]]` の中でサポートされている値は以下の通りです：

| 値              | 意味                                           |
| --------------  | ---------------------------------------------- |
| `${x}`          | X値                                            |
| `${y}`          | Y値（スムージング後の値）                      |
| `${original}`   | Y値（スムージングなしの値）                    |
| `${mean}`       | グループ化された run の平均値                   |
| `${stddev}`     | グループ化された run の標準偏差                 |
| `${min}`        | グループ化された run の最小値                   |
| `${max}`        | グループ化された run の最大値                   |
| `${percent}`    | 全体に対する割合（積み上げエリアチャート向け）   |

## グループ化

グループ化をオンにすると、すべての run を集計できます。特定の変数ごとにグループ化することも可能です。テーブル上でグループ化をオンにすれば、自動的にその内容でグラフもグループ分けされます。

## スムージング

[スムージング係数]({{< relref path="/support/kb-articles/formula_smoothing_algorithm.md" lang="ja" >}})は0から1の間で設定でき、0はスムージングなし、1は最大限のスムージングとなります。

## 外れ値を無視

外れ値を除外して、デフォルトのプロットの最小・最大スケールを再調整します。この設定がプロットに与える効果は、プロットのサンプリングモードによって異なります。

- [ランダムサンプリングモード]({{< relref path="sampling.md#random-sampling" lang="ja" >}}) の場合、**外れ値を無視** を有効にすると、5%～95%のポイントだけが表示されます。外れ値が表示されている場合、他のポイントと特別な違いはありません。
- [完全忠実度モード]({{< relref path="sampling.md#full-fidelity" lang="ja" >}}) の場合、常にすべてのポイントが表示され、各バケットの最後の値に集約されます。**外れ値を無視** を有効にすると、各バケットの最小・最大範囲が塗りつぶされて表示されます。無効の場合、塗りつぶしはありません。

## 式（エクスプレッション）

式を使うことで、1-accuracy のようなメトリクスから導いた値をプロットできます。現在は、単一のメトリクスをプロットしている場合のみ利用可能です。四則演算（+, -, *, /, %）や累乗（**）の計算が可能です。

## プロットスタイル

折れ線グラフの表示スタイルを選択できます。

**折れ線グラフ:**

{{< img src="/images/app_ui/plot_style_line_plot.png" alt="折れ線グラフスタイル" >}}

**エリアグラフ:**

{{< img src="/images/app_ui/plot_style_area_plot.png" alt="エリアグラフスタイル" >}}

**パーセンテージエリアグラフ:**

{{< img src="/images/app_ui/plot_style_percentage_plot.png" alt="パーセンテージグラフスタイル" >}}