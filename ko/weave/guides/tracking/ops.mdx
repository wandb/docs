---
title: "Opsë¥¼ ì‚¬ìš©í•´ í•¨ìˆ˜ í˜¸ì¶œì„ ìë™ìœ¼ë¡œ ì¶”ì í•˜ê¸°"
description: "Weaveì—ì„œ ëª¨ë“  í˜¸ì¶œì„ ìë™ìœ¼ë¡œ ê¸°ë¡í•˜ëŠ” ë²„ì „ ê´€ë¦¬ í•¨ìˆ˜"
---

Weave opëŠ” ëª¨ë“  í˜¸ì¶œì„ ìë™ìœ¼ë¡œ ê¸°ë¡í•˜ëŠ” ë²„ì „ ê´€ë¦¬ í•¨ìˆ˜ì…ë‹ˆë‹¤.

<Tabs>
  <Tab title="Python">
    opë¥¼ ë§Œë“¤ë ¤ë©´ Python í•¨ìˆ˜ì— `weave.op()` ë°ì½”ë ˆì´í„°ë¥¼ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

    ```python lines lines
    import weave

    @weave.op()
    def track_me(v):
        return v + 5

    weave.init('intro-example')
    track_me(15)
    ```

    opë¥¼ í˜¸ì¶œí•˜ë©´ ì½”ë“œê°€ ë§ˆì§€ë§‰ í˜¸ì¶œ ì´í›„ ë³€ê²½ë˜ì—ˆì„ ê²½ìš° ìƒˆë¡œìš´ op ë²„ì „ì´ ìƒì„±ë˜ê³ , í•¨ìˆ˜ì˜ ì…ë ¥ê³¼ ì¶œë ¥ì´ ê¸°ë¡ë©ë‹ˆë‹¤.

    `@weave.op()`ìœ¼ë¡œ ë°ì½”ë ˆì´ì…˜ëœ í•¨ìˆ˜ëŠ”, ê·¸ ì „ì— `weave.init('your-project-name')`ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ (ì½”ë“œ ë²„ì „ ê´€ë¦¬ì™€ ì¶”ì  ì—†ì´) í‰ì†Œì™€ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤.

    opëŠ” Weave toolbeltë¥¼ ì‚¬ìš©í•´ [served](/ko/weave/guides/tools/serve) í•˜ê±°ë‚˜ [deployed](/ko/weave/guides/tools/deploy) í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </Tab>

  <Tab title="TypeScript">
    opë¥¼ ë§Œë“¤ë ¤ë©´ TypeScript í•¨ìˆ˜ë¥¼ `weave.op`ìœ¼ë¡œ ê°ì‹¸ë©´ ë©ë‹ˆë‹¤.

    ```typescript lines
    import * as weave from 'weave'

    function trackMe(v: number) {
        return v + 5
    }

    const trackMeOp = weave.op(trackMe)
    trackMeOp(15)

    // ì¸ë¼ì¸ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ë„ ìˆìœ¼ë©°, ì´ ë°©ì‹ì´ ë” í¸ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    const trackMeInline = weave.op((v: number) => v + 5)
    trackMeInline(15)
    ```
  </Tab>
</Tabs>

<div id="customize-display-names">
  ## í‘œì‹œ ì´ë¦„ ì‚¬ìš©ì ì§€ì •
</div>

<Tabs>
  <Tab title="Python">
    `@weave.op` ë°ì½”ë ˆì´í„°ì˜ `name` íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•˜ì—¬ opì˜ í‘œì‹œ ì´ë¦„ì„ ì‚¬ìš©ì ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

    ```python lines
    @weave.op(name="custom_name")
    def func():
        ...
    ```
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
    ì´ ê¸°ëŠ¥ì€ ì•„ì§ TypeScriptì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    ```
  </Tab>
</Tabs>

<div id="apply-kinds-and-colors">
  ## ì¢…ë¥˜ì™€ ìƒ‰ìƒ ì ìš©í•˜ê¸°
</div>

Weave UIì—ì„œ opë“¤ì„ ë” ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ë ¤ë©´ ì½”ë“œì˜ `@weave.op` ë°ì½”ë ˆì´í„°ì— `kind` ë° `color` ì¸ìˆ˜ë¥¼ ì¶”ê°€í•´ ì‚¬ìš©ì ì§€ì • kindì™€ colorë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒ ì½”ë“œëŠ” ìƒìœ„ í•¨ìˆ˜ì— `LLM` `kind`ì™€ `blue` `color`ë¥¼, ì¤‘ì²© í•¨ìˆ˜ì— `tool` `kind`ì™€ `red` `color`ë¥¼ ì ìš©í•©ë‹ˆë‹¤:

<Tabs>
  <Tab title="Python">
    ```python lines
    import weave

    weave.init("<your-team-name>/<your-project-name>")

    @weave.op(kind="LLM", color="blue")
    def llm_func():
        @weave.op(kind="tool", color="red")
        def tool_func():
            return "tool result"

        tool_result = tool_func()
        
        return f"llm result with {tool_result}"

    llm_func()
    ```
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
    This feature is not available in TypeScript yet.
    ```
  </Tab>
</Tabs>

ì´ë ‡ê²Œ í•˜ë©´ Weave UIì—ì„œ opë“¤ì— ì¢…ë¥˜ì™€ ìƒ‰ìƒì´ ë‹¤ìŒê³¼ ê°™ì´ ì ìš©ë©ë‹ˆë‹¤:

<Frame>
  ![Weave UIì—ì„œ ìƒìœ„ í˜¸ì¶œì—ëŠ” LLM kindì™€ blue colorê°€, ì¤‘ì²© í˜¸ì¶œì—ëŠ” tool kindì™€ red colorê°€ í‘œì‹œë˜ì–´ ìˆëŠ” ëª¨ìŠµ.](/images/weave/weave_colors_kinds.png)
</Frame>

ì‚¬ìš© ê°€ëŠ¥í•œ `kind` ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

* `agent`
* `llm`
* `tool`
* `search`

ì‚¬ìš© ê°€ëŠ¥í•œ `color` ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

* `red`
* `orange`
* `yellow`
* `green`
* `blue`
* `purple`

<div id="customize-logged-inputs-and-outputs">
  ## ë¡œê·¸ë˜ëŠ” ì…ë ¥ê°’ê³¼ ì¶œë ¥ê°’ ì‚¬ìš©ì ì •ì˜í•˜ê¸°
</div>

<Tabs>
  <Tab title="Python">
    ì›ë³¸ í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³ (ì˜ˆ: ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ìˆ¨ê¸°ê¸° ìœ„í•´) Weaveì— ë¡œê·¸ë˜ëŠ” ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë ¤ë©´, op ë°ì½”ë ˆì´í„°ì— `postprocess_inputs`ì™€ `postprocess_output`ì„ ì¸ìë¡œ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤.

    `postprocess_inputs`ëŠ” í‚¤ê°€ ì¸ì ì´ë¦„ì´ê³  ê°’ì´ ì¸ì ê°’ì¸ dictë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„, ë³€í™˜ëœ ì…ë ¥ê°’ì´ ë“¤ì–´ ìˆëŠ” dictë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

    `postprocess_output`ì€ í•¨ìˆ˜ê°€ ì¼ë°˜ì ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ì–´ë–¤ ê°’ì´ë“  ì…ë ¥ìœ¼ë¡œ ë°›ì•„, ë³€í™˜ëœ ì¶œë ¥ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

    ```python lines
    from dataclasses import dataclass
    from typing import Any
    import weave

    @dataclass
    class CustomObject:
        x: int
        secret_password: str

    def postprocess_inputs(inputs: dict[str, Any]) -> dict[str, Any]:
        return {k:v for k,v in inputs.items() if k != "hide_me"}

    def postprocess_output(output: CustomObject) -> CustomObject:
        return CustomObject(x=output.x, secret_password="REDACTED")

    @weave.op(
        postprocess_inputs=postprocess_inputs,
        postprocess_output=postprocess_output,
    )
    def func(a: int, hide_me: str) -> CustomObject:
        return CustomObject(x=a, secret_password=hide_me)

    weave.init('hide-data-example') # ğŸ
    func(a=1, hide_me="password123")
    ```
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
    ì´ ê¸°ëŠ¥ì€ ì•„ì§ TypeScriptì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    ```
  </Tab>
</Tabs>

<div id="control-sampling-rate">
  ## ìƒ˜í”Œë§ ë¹„ìœ¨ ì œì–´
</div>

<Tabs>
  <Tab title="Python">
    `@weave.op` ë°ì½”ë ˆì´í„°ì˜ `tracing_sample_rate` íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•´ op í˜¸ì¶œì´ ì¶”ì ë˜ëŠ” ë¹ˆë„ë¥¼ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” í˜¸ì¶œ ë¹ˆë„ê°€ ë†’ì€ opì—ì„œ ì¼ë¶€ í˜¸ì¶œë§Œ ì¶”ì í•˜ë©´ ë˜ëŠ” ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤.

    ìƒ˜í”Œë§ ë¹„ìœ¨ì€ ë£¨íŠ¸ í˜¸ì¶œì—ë§Œ ì ìš©ëœë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì„¸ìš”. ì–´ë–¤ opì— ìƒ˜í”Œë§ ë¹„ìœ¨ì´ ì„¤ì •ë˜ì–´ ìˆë”ë¼ë„, ë¨¼ì € ë‹¤ë¥¸ opì— ì˜í•´ í˜¸ì¶œë˜ëŠ” ê²½ìš°ì—ëŠ” ê·¸ ìƒ˜í”Œë§ ë¹„ìœ¨ì€ ë¬´ì‹œë©ë‹ˆë‹¤.

    ```python lines
    @weave.op(tracing_sample_rate=0.1)  # í˜¸ì¶œì˜ ì•½ 10%ë§Œ ì¶”ì 
    def high_frequency_op(x: int) -> int:
        return x + 1

    @weave.op(tracing_sample_rate=1.0)  # í•­ìƒ ì¶”ì  (ê¸°ë³¸ê°’)
    def always_traced_op(x: int) -> int:
        return x + 1
    ```

    op í˜¸ì¶œì´ ìƒ˜í”Œë§ë˜ì§€ ì•Šì•˜ì„ ë•Œ:

    * í•¨ìˆ˜ëŠ” ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
    * íŠ¸ë ˆì´ìŠ¤ ë°ì´í„°ê°€ Weaveë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    * í•´ë‹¹ í˜¸ì¶œì— ëŒ€í•´ì„œëŠ” ìì‹ opë„ ì¶”ì ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

    ìƒ˜í”Œë§ ë¹„ìœ¨ì€ 0.0 ì´ìƒ 1.0 ì´í•˜ì˜ ê°’ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
    ì´ ê¸°ëŠ¥ì€ ì•„ì§ TypeScriptì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    ```
  </Tab>
</Tabs>

<div id="control-call-link-output">
  ## í˜¸ì¶œ ë§í¬ ì¶œë ¥ ì œì–´
</div>

ë¡œê¹… ì¤‘ì— í˜¸ì¶œ ë§í¬ê°€ ì¶œë ¥ë˜ì§€ ì•Šë„ë¡ í•˜ë ¤ë©´ `WEAVE_PRINT_CALL_LINK` í™˜ê²½ ë³€ìˆ˜ë¥¼ `false`ë¡œ ì„¤ì •í•˜ì„¸ìš”. ì´ëŠ” ì¶œë ¥ ë‚´ìš©ì„ ê°„ê²°í•˜ê²Œ í•˜ê³  ë¡œê·¸ì˜ í˜¼ì¡ë„ë¥¼ ì¤„ì´ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

```bash
export WEAVE_PRINT_CALL_LINK=false
```

<div id="deleting-an-op">
  ## op ì‚­ì œí•˜ê¸°
</div>

<Tabs>
  <Tab title="Python">
    op ë²„ì „ì„ ì‚­ì œí•˜ë ¤ë©´ op refì—ì„œ `.delete()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì„¸ìš”.

    ```python lines
    weave.init('intro-example')
    my_op_ref = weave.ref('track_me:v1')
    my_op_ref.delete()
    ```

    ì‚­ì œëœ opì— ì ‘ê·¼í•˜ë ¤ê³  ì‹œë„í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
    ì´ ê¸°ëŠ¥ì€ ì•„ì§ TypeScriptì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    ```
  </Tab>
</Tabs>