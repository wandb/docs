---
title: "데이터셋 수집 및 추적"
description: "LLM 애플리케이션 평가용 예제를 구성, 수집, 추적하고 버전 관리하기"
---

Weave 데이터셋은 LLM 애플리케이션 평가용 예제를 쉽게 비교할 수 있도록 구성하고, 수집하고, 추적하고, 버전 관리하는 데 도움이 됩니다. `Dataset`은 코드와 UI 모두에서 생성하고 사용할 수 있습니다.

이 페이지에서는 다음 내용을 설명합니다:

* Python과 TypeScript에서의 기본 `Dataset` 작업과 시작 방법
* Weave [calls](../tracking/tracing)와 같은 객체로부터 Python과 TypeScript에서 `Dataset`을 생성하는 방법
* UI에서 `Dataset`으로 수행할 수 있는 작업

<div id="dataset-quickstart">
  ## `Dataset` 빠른 시작
</div>

아래 코드 예제는 Python과 TypeScript로 기본적인 `Dataset` 작업을 수행하는 방법을 보여줍니다. SDK를 사용하면 다음을 수행할 수 있습니다:

* `Dataset` 생성
* `Dataset` 게시
* `Dataset` 가져오기
* `Dataset` 안의 특정 예시에 접근하기

탭을 선택해 Python 및 TypeScript별 코드를 확인하세요.

<Tabs>
  <Tab title="Python">
    ```python lines
    import weave
    from weave import Dataset
    # Weave 초기화
    weave.init('intro-example')

    # 데이터셋 생성
    dataset = Dataset(
        name='grammar',
        rows=[
            {'id': '0', 'sentence': "He no likes ice cream.", 'correction': "He doesn't like ice cream."},
            {'id': '1', 'sentence': "She goed to the store.", 'correction': "She went to the store."},
            {'id': '2', 'sentence': "They plays video games all day.", 'correction': "They play video games all day."}
        ]
    )

    # 데이터셋 게시
    weave.publish(dataset)

    # 데이터셋 가져오기
    dataset_ref = weave.ref('grammar').get()

    # 특정 예시에 접근
    example_label = dataset_ref.rows[2]['sentence']
    ```
  </Tab>

  <Tab title="TypeScript">
    ```typescript lines
    import * as weave from 'weave';

    // Weave 초기화
    await weave.init('intro-example');

    // 데이터셋 생성
    const dataset = new weave.Dataset({
        name: 'grammar',
        rows: [
            {id: '0', sentence: "He no likes ice cream.", correction: "He doesn't like ice cream."},
            {id: '1', sentence: "She goed to the store.", correction: "She went to the store."},
            {id: '2', sentence: "They plays video games all day.", correction: "They play video games all day."}
        ]
    });

    // 데이터셋 게시
    await dataset.save();

    // 특정 예시에 접근
    const exampleLabel = datasetRef.getRow(2).sentence;
    ```
  </Tab>
</Tabs>

<div id="create-a-dataset-from-other-objects">
  ## 다른 객체에서 `Dataset` 생성하기
</div>

<Tabs>
  <Tab title="Python">
    Python에서는 `Dataset`을 [calls](../tracking/tracing) 같은 일반적인 Weave 객체나 `pandas.DataFrame`과 같은 Python 객체로부터도 생성할 수 있습니다. 이 기능은 특정 예시를 기반으로 예제 `Dataset`을 만들고 싶을 때 유용합니다.

    ### Weave call

    하나 이상의 Weave call에서 `Dataset`을 생성하려면, call 객체를 가져와 `from_calls` 메서드에 리스트로 전달합니다.

    ```python lines
    @weave.op
    def model(task: str) -> str:
        return f"Now working on {task}"

    res1, call1 = model.call(task="fetch")
    res2, call2 = model.call(task="parse")

    dataset = Dataset.from_calls([call1, call2])
    # 이제 이 dataset을 사용해 모델을 평가하는 등 다양한 작업을 할 수 있습니다.
    ```

    ### Pandas DataFrame

    Pandas `DataFrame` 객체에서 `Dataset`을 생성하려면 `from_pandas` 메서드를 사용합니다.

    `Dataset`을 다시 DataFrame으로 변환하려면 `to_pandas`를 사용합니다.

    ```python lines
    import pandas as pd

    df = pd.DataFrame([
        {'id': '0', 'sentence': "He no likes ice cream.", 'correction': "He doesn't like ice cream."},
        {'id': '1', 'sentence': "She goed to the store.", 'correction': "She went to the store."},
        {'id': '2', 'sentence': "They plays video games all day.", 'correction': "They play video games all day."}
    ])
    dataset = Dataset.from_pandas(df)
    df2 = dataset.to_pandas()

    assert df.equals(df2)
    ```

    ### Hugging Face Datasets

    Hugging Face의 `datasets.Dataset` 또는 `datasets.DatasetDict` 객체에서 `Dataset`을 생성하려면, 먼저 필요한 의존성이 설치되어 있는지 확인합니다:

    ```bash
    pip install weave[huggingface]
    ```

    그런 다음 `from_hf` 메서드를 사용합니다. 여러 split(예: &#39;train&#39;, &#39;test&#39;, &#39;validation&#39;)이 있는 `DatasetDict`를 제공하면, Weave는 자동으로 &#39;train&#39; split을 사용하고 경고를 출력합니다. &#39;train&#39; split이 없으면 오류를 발생시킵니다. 특정 split을 직접 제공할 수도 있습니다(예: `hf_dataset_dict['test']`).

    `weave.Dataset`을 다시 Hugging Face `Dataset`으로 변환하려면 `to_hf` 메서드를 사용합니다.

    ```python lines
    # Ensure datasets is installed: pip install datasets
    from datasets import Dataset as HFDataset, DatasetDict

    # Example with HF Dataset
    hf_rows = [
        {'id': '0', 'sentence': "He no likes ice cream.", 'correction': "He doesn't like ice cream."},
        {'id': '1', 'sentence': "She goed to the store.", 'correction': "She went to the store."},
    ]
    hf_ds = HFDataset.from_list(hf_rows)
    weave_ds_from_hf = Dataset.from_hf(hf_ds)

    # Convert back to HF Dataset
    converted_hf_ds = weave_ds_from_hf.to_hf()

    # Example with HF DatasetDict (uses 'train' split by default)
    hf_dict = DatasetDict({
        'train': HFDataset.from_list(hf_rows),
        'test': HFDataset.from_list([{'id': '2', 'sentence': "Test sentence", 'correction': "Test correction"}])
    })
    # This will issue a warning and use the 'train' split
    weave_ds_from_dict = Dataset.from_hf(hf_dict)

    # Providing a specific split
    weave_ds_from_test_split = Dataset.from_hf(hf_dict['test'])
    ```
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
     이 기능은 아직 TypeScript에서 사용할 수 없습니다.
    ```
  </Tab>
</Tabs>

<div id="create-edit-and-delete-a-dataset-in-the-ui">
  ## UI에서 `Dataset` 생성, 편집, 삭제하기
</div>

UI에서 `Dataset`을 생성, 편집, 삭제할 수 있습니다.

<div id="create-a-new-dataset">
  ### 새 `Dataset` 생성
</div>

1. 편집하려는 Weave 프로젝트로 이동합니다.

2. 사이드바에서 **Traces**를 선택합니다.

3. 새 `Dataset`을 만들 하나 이상의 호출을 선택합니다.

4. 오른쪽 상단 메뉴에서 **Add selected rows to a dataset** 아이콘(휴지통 아이콘 옆)을 클릭합니다.

5. **Choose a dataset** 드롭다운에서 **Create new**를 선택합니다. 그러면 **Dataset name** 필드가 표시됩니다.

6. **Dataset name** 필드에 데이터셋 이름을 입력합니다. **Configure dataset fields** 옵션이 나타납니다.

   <Note>
     Dataset 이름은 문자 또는 숫자로 시작해야 하며, 문자, 숫자, 하이픈, 밑줄만 포함할 수 있습니다.
   </Note>

7. (선택) **Configure dataset fields**에서 호출의 필드 중 데이터셋에 포함할 필드를 선택합니다.
   * 선택한 각 필드에 대한 컬럼 이름을 사용자 지정할 수 있습니다.
   * 새 `Dataset`에 포함할 필드를 일부만 선택하거나, 모든 필드의 선택을 해제할 수 있습니다.

8. 데이터셋 필드 구성이 완료되면 **Next**를 클릭합니다. 새 `Dataset`의 미리보기가 표시됩니다.

9. (선택) **Dataset** 내에서 편집 가능한 필드를 클릭해 항목을 수정합니다.

10. **Create dataset**을 클릭합니다. 새 데이터셋이 생성됩니다.

11. 확인 팝업에서 **View the dataset**을 클릭해 새 `Dataset`을 확인합니다. 또는 **Datasets** 탭으로 이동합니다.

<div id="edit-a-dataset">
  ### `Dataset` 편집하기
</div>

1. 수정하려는 `Dataset`이 포함된 Weave 프로젝트로 이동합니다.

2. 사이드바에서 **Datasets**를 선택합니다. 사용 가능한 `Dataset` 목록이 표시됩니다.

   ![Dataset UI](/weave/guides/core-types/imgs/datasetui.png)

3. **Object** 열에서 수정하려는 `Dataset`의 이름과 버전을 클릭합니다. 이름, 버전, 작성자, `Dataset` 행 등 `Dataset` 정보가 표시되는 팝업 모달이 열립니다.

   ![View Dataset information](/weave/guides/core-types/imgs/datasetui-popout.png)

4. 모달의 오른쪽 상단에서 연필 아이콘인 **Edit dataset** 버튼을 클릭합니다. 모달 하단에 **+ Add row** 버튼이 표시됩니다.

   ![Dataset UI- Add row icon](/weave/guides/core-types/imgs/datasetui-popout-edit.png)

5. **+ Add row**를 클릭합니다. 새 행을 `Dataset`에 추가할 수 있음을 나타내는 녹색 행이 기존 `Dataset` 행의 맨 위에 표시됩니다.

   ![Dataset UI](/weave/guides/core-types/imgs/datasetui-popout-edit-green.png)

6. 새 행에 데이터를 추가하려면 해당 행에서 원하는 열을 클릭합니다. `Dataset` 행의 기본 **id** 열은 Weave가 생성할 때 자동으로 할당하므로 편집할 수 없습니다. **Text**, **Code**, **Diff** 옵션으로 서식을 지정할 수 있는 편집 모달이 나타납니다.

   ![Dataset UI - Add data to a column and format.](/weave/guides/core-types/imgs/datasetui-popout-edit-addcol.png)

7. 새 행에서 데이터를 추가하려는 각 열에 대해 6단계를 반복합니다.

   ![Dataset UI - Add data to all columns.](/weave/guides/core-types/imgs/datasetui-popout-edit-colsadded.png)

8. `Dataset`에 추가하려는 각 행에 대해 5단계를 반복합니다.

9. 편집을 모두 마쳤으면 모달 오른쪽 상단의 **Publish**를 클릭하여 `Dataset`을 게시합니다. 변경 사항을 게시하지 않으려면 **Cancel**을 클릭합니다.

   ![Dataset UI - Publish or cancel.](/weave/guides/core-types/imgs/datasetui-popout-edit-publish.png)

   게시가 완료되면, 업데이트된 행이 포함된 `Dataset`의 새 버전을 UI에서 확인할 수 있습니다.

   ![Dataset UI - Published metadata.](/weave/guides/core-types/imgs/datasetui-popout-edit-published-meta.png)
   ![Dataset UI - Published rows.](/weave/guides/core-types/imgs/datasetui-popout-edit-published-rows.png)

<div id="delete-a-dataset">
  ### `Dataset` 삭제
</div>

1. 삭제하려는 `Dataset`이 포함된 Weave 프로젝트로 이동합니다.

2. 사이드바에서 **Datasets**를 선택합니다. 사용 가능한 `Dataset` 목록이 표시됩니다.

3. **Object** 열에서 삭제하려는 `Dataset`의 이름과 버전을 클릭합니다. 이름, 버전, 작성자, `Dataset` 행 등의 `Dataset` 정보가 표시된 모달 창이 나타납니다.

4. 모달의 오른쪽 상단 모서리에서 휴지통 아이콘을 클릭합니다.

   `Dataset` 삭제를 확인하라는 팝업 모달이 표시됩니다.

   ![Dataset UI - Confirm deletion modal.](/weave/guides/core-types/imgs/datasetui-delete-modal.png)

5. 팝업 모달에서 빨간색 **Delete** 버튼을 클릭하여 `Dataset`을 삭제합니다. 또는 `Dataset`을 삭제하지 않으려면 **Cancel**을 클릭합니다.

   이제 `Dataset`이 삭제되어 Weave 대시보드의 **Datasets** 탭에서 더 이상 보이지 않습니다.

<div id="add-a-new-example-to-a-dataset">
  ### `Dataset`에 새 예제 추가하기
</div>

1. 편집하려는 Weave 프로젝트로 이동합니다.

2. 사이드바에서 **Traces**를 선택합니다.

3. 새 예제를 만들고 싶은 `Datasets`가 연결된 호출을 하나 이상 선택합니다.

4. 오른쪽 상단 메뉴에서 **Add selected rows to a dataset** 아이콘(휴지통 아이콘 옆에 위치)을 클릭합니다. 필요에 따라 **Show latest versions**를 끄기로 전환해, 사용 가능한 모든 데이터셋의 모든 버전을 표시할 수 있습니다.

5. **Choose a dataset** 드롭다운에서 예제를 추가할 `Dataset`을 선택합니다. **Configure field mapping** 옵션이 표시됩니다.

6. (선택 사항) **Configure field mapping**에서, 호출의 필드를 해당 데이터셋 열에 매핑하는 방식을 조정할 수 있습니다.

7. 필드 매핑 구성을 마쳤으면 **Next**를 클릭합니다. 새 `Dataset`의 미리보기가 표시됩니다.

8. 비어 있는 행(초록색)에 새 예제 값을 추가합니다. **id** 필드는 수정할 수 없으며 Weave에서 자동으로 생성된다는 점에 유의하세요.

9. **Add to dataset**을 클릭합니다. 또는 **Configure field mapping** 화면으로 돌아가려면 **Back**을 클릭합니다.

10. 확인 팝업에서 변경 내용을 확인하려면 **View the dataset**을 클릭합니다. 또는 **Datasets** 탭으로 이동해 `Dataset`에 대한 업데이트 내용을 확인할 수도 있습니다.

<div id="other-dataset-operations">
  ## 기타 Dataset 작업
</div>

<Tabs>
  <Tab title="Python">
    ### 행 선택

    `select` 메서드를 사용하여 `Dataset`에서 인덱스를 이용해 특정 행을 선택할 수 있습니다. 이는 데이터의 부분집합을 만들 때 유용합니다.

    ```python lines
    import weave
    from weave import Dataset

    # 예제 Dataset 생성
    dataset = Dataset(rows=[
        {'col_a': 1, 'col_b': 'x'},
        {'col_a': 2, 'col_b': 'y'},
        {'col_a': 3, 'col_b': 'z'},
        {'col_a': 4, 'col_b': 'w'},
    ])

    # 인덱스 0과 2에 있는 행 선택
    subset_dataset = dataset.select([0, 2])

    # 이제 subset_dataset에는 첫 번째와 세 번째 행만 포함됨
    # print(list(subset_dataset))
    # 출력: [{'col_a': 1, 'col_b': 'x'}, {'col_a': 3, 'col_b': 'z'}]
    ```
  </Tab>

  <Tab title="TypeScript">
    ```plaintext
     이 기능은 현재 TypeScript에서는 아직 사용할 수 없습니다.
    ```
  </Tab>
</Tabs>