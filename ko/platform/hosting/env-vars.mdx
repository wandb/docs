---
title: 환경 변수 설정
description: W&B 서버 설치 구성 방법
---

System Settings 관리 UI를 통해 인스턴스 수준의 설정을 구성하는 것 외에도, W&B는 환경 변수를 사용하여 코드상에서 이러한 값들을 구성하는 방법을 제공합니다. 또한, [IAM을 위한 고급 구성](./iam/advanced_env_vars)을 참조하세요.

## 환경 변수 레퍼런스

| 환경 변수 | 설명 |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `LICENSE`                          | wandb/local 라이선스 키 |
| `MYSQL`                            | MySQL 연결 문자열 |
| `BUCKET`                           | 데이터 저장을 위한 S3 / GCS 버킷 |
| `BUCKET_QUEUE`                     | 오브젝트 생성 이벤트를 위한 SQS / Google PubSub 큐 |
| `NOTIFICATIONS_QUEUE`              | run 이벤트를 발행할 SQS 큐 |
| `AWS_REGION`                       | 버킷이 위치한 AWS 리전 |
| `HOST`                             | 인스턴스의 FQD(정규화된 도메인 네임), 예: `https://my.domain.net` |
| `OIDC_ISSUER`                      | Open ID Connect ID 공급자 URL, 예: `https://cognito-idp.us-east-1.amazonaws.com/us-east-1_uiIFNdacd` |
| `OIDC_CLIENT_ID`                   | ID 공급자에 등록된 애플리케이션의 클라이언트 ID |
| `OIDC_AUTH_METHOD`                 | Implicit (기본값) 또는 pkce, 자세한 내용은 아래 참조 |
| `SLACK_CLIENT_ID`                  | 알림에 사용할 Slack 애플리케이션의 클라이언트 ID |
| `SLACK_SECRET`                     | 알림에 사용할 Slack 애플리케이션의 시크릿 값 |
| `LOCAL_RESTORE`                    | 인스턴스에 엑세스할 수 없는 경우 일시적으로 true로 설정할 수 있습니다. 컨테이너의 로그에서 임시 자격 증명을 확인하세요. |
| `REDIS`                            | W&B와 함께 외부 REDIS 인스턴스를 설정하는 데 사용됩니다. |
| `LOGGING_ENABLED`                  | true로 설정하면 엑세스 로그가 stdout으로 스트리밍됩니다. 이 변수를 설정하지 않고 사이드카 컨테이너를 마운트하여 `/var/log/gorilla.log`를 트래킹할 수도 있습니다. |
| `GORILLA_ALLOW_USER_TEAM_CREATION` | true로 설정하면 관리자가 아닌 Users 도 새로운 팀을 생성할 수 있습니다. 기본값은 false입니다. |
| `GORILLA_CUSTOMER_SECRET_STORE_SOURCE` | W&B Weave 에서 사용하는 팀 시크릿을 저장하기 위한 시크릿 관리자를 설정합니다. 다음 시크릿 관리자가 지원됩니다: <ul><li><b>내부 시크릿 관리자</b> (기본값): <code>k8s-secretmanager://wandb-secret</code></li><li><b>AWS Secret Manager</b>: <code>aws-secretmanager</code></li><li><b>Google Cloud Secret Manager</b>: <code>gcp-secretmanager</code></li><li><b>Azure</b>: <code>az-secretmanger</code></li></ul> |
| `GORILLA_DATA_RETENTION_PERIOD`    | Runs 에서 삭제된 데이터를 보관할 시간(시간 단위)입니다. 삭제된 run 데이터는 복구할 수 없습니다. 입력 값 뒤에 `h`를 붙이세요. 예: `"24h"`. |
| `GORILLA_DISABLE_PERSONAL_ENTITY`  | true로 설정하면 [개인 엔티티(personal entities)](/models/support/difference_team_entity_user_entity_mean_me/) 기능을 비활성화합니다. 개인 엔티티에서의 새로운 개인 Projects 생성을 방지하고, 기존 개인 Projects 에 대한 쓰기를 차단합니다. |
| `ENABLE_REGISTRY_UI`               | true로 설정하면 새로운 W&B Registry UI를 활성화합니다. |
| `GORILLA_ARTIFACT_GC_ENABLED`      | true로 설정하면 삭제된 Artifacts 에 대한 가비지 컬렉션을 활성화합니다. 셀프 매니징 배포 시 필요합니다. 자세한 내용은 [Artifact 삭제하기](/models/artifacts/delete-artifacts)를 참조하세요. |
| `WANDB_ARTIFACT_DIR`               | 다운로드된 모든 Artifacts 를 저장할 위치입니다. 설정하지 않으면 트래킹 스크립트(training script) 기준 상대 경로인 `artifacts` 디렉토리가 기본값이 됩니다. 이 디렉토리가 존재하고 실행 중인 사용자가 쓰기 권한을 가지고 있는지 확인하세요. 생성된 메타데이터 파일의 위치는 제어하지 않으며, 이는 `WANDB_DIR` 환경 변수를 사용하여 설정할 수 있습니다. |
| `WANDB_DATA_DIR`                   | 스테이징 Artifacts 를 업로드할 위치입니다. 기본 위치는 `platformdirs` Python 패키지의 `user_data_dir` 값을 사용하므로 플랫폼에 따라 다릅니다. 이 디렉토리가 존재하고 실행 중인 사용자가 쓰기 권한을 가지고 있는지 확인하세요. |
| `WANDB_DIR`                        | 생성된 모든 파일을 저장할 위치입니다. 설정하지 않으면 트래킹 스크립트 기준 상대 경로인 `wandb` 디렉토리가 기본값이 됩니다. 이 디렉토리가 존재하고 실행 중인 사용자가 쓰기 권한을 가지고 있는지 확인하세요. 다운로드된 Artifacts 의 위치는 제어하지 않으며, 이는 `WANDB_ARTIFACT_DIR` 환경 변수를 사용하여 설정할 수 있습니다. |
| `WANDB_IDENTITY_TOKEN_FILE`        | [ID 페더레이션](/platform/hosting/iam/identity_federation/)을 위해 Java Web Tokens(JWT)이 저장된 로컬 디렉토리의 절대 경로입니다. |

<Note>
GORILLA_DATA_RETENTION_PERIOD 환경 변수를 사용할 때는 주의하십시오. 환경 변수가 설정되는 즉시 데이터가 제거됩니다. 또한 이 플래그를 활성화하기 전에 데이터베이스와 스토리지 버킷을 모두 백업하는 것을 권장합니다.
</Note>

## 고급 안정성 설정

### Redis

외부 Redis 서버 구성은 선택 사항이지만 프로덕션 시스템에서는 권장됩니다. Redis는 서비스의 안정성을 향상시키고 캐싱을 활성화하여 특히 대규모 Projects 에서 로딩 시간을 단축하는 데 도움이 됩니다. 고가용성(HA)을 갖춘 ElastiCache와 같은 관리형 Redis 서비스를 사용하고 다음 사양을 권장합니다:

- 최소 4GB 메모리, 8GB 권장
- Redis 버전 6.x
- 전송 중 암호화 (In transit encryption)
- 인증 활성화

W&B에서 Redis 인스턴스를 구성하려면 `http(s)://YOUR-W&B-SERVER-HOST/system-admin`에 있는 W&B 설정 페이지로 이동하세요. "Use an external Redis instance" 옵션을 활성화하고 다음 형식으로 Redis 연결 문자열을 입력합니다:

<Frame>
    <img src="/images/hosting/configure_redis.png" alt="W&B에서 REDIS 구성하기"  />
</Frame>

컨테이너 또는 Kubernetes 배포의 `REDIS` 환경 변수를 사용하여 Redis를 구성할 수도 있습니다. 또는 `REDIS`를 Kubernetes 시크릿으로 설정할 수도 있습니다.

이 페이지에서는 Redis 인스턴스가 기본 포트인 `6379`에서 실행 중이라고 가정합니다. 다른 포트를 구성하거나, 인증을 설정하고, `redis` 인스턴스에 TLS를 활성화하려는 경우 연결 문자열 형식은 다음과 같습니다: `redis://$USER:$PASSWORD@$HOST:$PORT?tls=true`