---
description: W&B Server 설치 설정 방법
title: 환경 변수 설정
---

System Settings 관리자 UI에서 인스턴스 수준 설정을 구성하는 것 외에도, W&amp;B에서는 환경 변수를 통해 코드에서 이러한 값을 설정할 수 있습니다. 또한 [IAM 고급 설정](./iam/advanced_env_vars)도 참고하세요.

<div id="environment-variable-reference">
  ## 환경 변수 레퍼런스
</div>

| Environment Variable             | Description                                                                                                                                                                              |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `LICENSE`                          | wandb/local 라이선스                                                                                                                                                                     |
| `MYSQL`                            | MySQL 연결 문자열                                                                                                                                                                        |
| `BUCKET`                           | 데이터를 저장할 S3 / GCS 버킷                                                                                                                                                            |
| `BUCKET_QUEUE`                     | 오브젝트 생성 이벤트용 SQS / Google PubSub 큐                                                                                                                                            |
| `NOTIFICATIONS_QUEUE`              | run 이벤트를 발행할 SQS 큐                                                                                                                                                              |
| `AWS_REGION`                       | 버킷이 위치한 AWS Region                                                                                                                                                                |
| `HOST`                             | 인스턴스의 FQDN, 예: `https://my.domain.net`                                                                                                                                            |
| `OIDC_ISSUER`                      | Open ID Connect 아이덴티티 프로바이더의 URL, 예: `https://cognito-idp.us-east-1.amazonaws.com/us-east-1_uiIFNdacd`                                                                     |
| `OIDC_CLIENT_ID`                   | 아이덴티티 프로바이더 내 애플리케이션의 Client ID                                                                                                                                        |
| `OIDC_AUTH_METHOD`                 | Implicit(기본값) 또는 pkce. 자세한 내용은 아래를 참조하십시오.                                                                                                                          |
| `SLACK_CLIENT_ID`                  | 알림에 사용할 Slack 애플리케이션의 Client ID                                                                                                                                           |
| `SLACK_SECRET`                     | 알림에 사용할 Slack 애플리케이션의 secret                                                                                                                                                |
| `LOCAL_RESTORE`                    | 인스턴스에 접근할 수 없는 경우 임시로 true로 설정할 수 있습니다. 컨테이너 로그에서 임시 자격 증명을 확인하십시오.                                                                        |
| `REDIS`                            | 외부 REDIS 인스턴스를 W&amp;B와 함께 사용하도록 설정할 때 사용합니다.                                                                                                                       |
| `LOGGING_ENABLED`                  | true로 설정하면 액세스 로그가 stdout으로 스트리밍됩니다. 또한 사이드카 컨테이너를 마운트하고 이 변수를 설정하지 않고도 `/var/log/gorilla.log`를 tail할 수 있습니다.                    |
| `GORILLA_ALLOW_USER_TEAM_CREATION` | true로 설정하면 관리자 이외의 사용자도 새 팀을 생성할 수 있습니다. 기본값은 false입니다.                                                                                                |
| `GORILLA_CUSTOMER_SECRET_STORE_SOURCE` | W&amp;B Weave에서 사용하는 팀 시크릿을 저장할 시크릿 매니저를 설정합니다. 다음 시크릿 매니저가 지원됩니다: <ul><li><b>Internal secret manager</b> (기본값): <code>k8s-secretmanager://wandb-secret</code></li><li><b>AWS Secret Manager</b>: <code>aws-secretmanager</code></li><li><b>Google Cloud Secret Manager</b>: <code>gcp-secretmanager</code></li><li><b>Azure</b>: <code>az-secretmanger</code></li></ul>  |
| `GORILLA_DATA_RETENTION_PERIOD`    | run에서 삭제된 데이터를 몇 시간 동안 보관할지 설정합니다. 삭제된 run 데이터는 복구할 수 없습니다. 입력 값 끝에 `h`를 붙이십시오. 예: `"24h"`.                                          |
| `GORILLA_DISABLE_PERSONAL_ENTITY`  | true로 설정하면 [personal entities](/ko/models/support/difference_team_entity_user_entity_mean_me/)를 비활성화합니다. 개인 엔티티에서 새 개인 프로젝트 생성을 차단하고, 기존 개인 프로젝트에 대한 쓰기도 차단합니다. |
| `ENABLE_REGISTRY_UI`               | true로 설정하면 새로운 W&amp;B Registry UI를 활성화합니다.            |
| `GORILLA_ARTIFACT_GC_ENABLED`      | true로 설정하면 삭제된 아티팩트에 대한 가비지 컬렉션을 활성화합니다. 자체 관리 배포에서 필요합니다. 자세한 내용은 [Delete an artifact](/ko/models/artifacts/delete-artifacts)를 참조하십시오. |
| `WANDB_ARTIFACT_DIR`               | 다운로드된 모든 아티팩트를 저장할 위치입니다. 설정하지 않으면 트레이닝 스크립트 기준 상대 경로인 `artifacts` 디렉터리가 기본값입니다. 이 디렉터리가 존재하고, 실행 중인 사용자가 여기에 쓸 권한이 있는지 확인하십시오. 생성된 메타데이터 파일의 위치는 제어하지 않으며, 이는 `WANDB_DIR` 환경 변수로 설정할 수 있습니다. |
| `WANDB_DATA_DIR`                   | 스테이징 아티팩트를 업로드할 위치입니다. 기본 위치는 사용하는 플랫폼에 따라 다르며, `platformdirs` Python 패키지의 `user_data_dir` 값에 따라 결정됩니다. 이 디렉터리가 존재하고, 실행 중인 사용자가 여기에 쓸 권한이 있는지 확인하십시오. |
| `WANDB_DIR`                        | 생성된 모든 파일을 저장할 위치입니다. 설정하지 않으면 트레이닝 스크립트 기준 상대 경로인 `wandb` 디렉터리가 기본값입니다. 이 디렉터리가 존재하고, 실행 중인 사용자가 여기에 쓸 권한이 있는지 확인하십시오. 다운로드된 아티팩트의 위치는 제어하지 않으며, 이는 `WANDB_ARTIFACT_DIR` 환경 변수로 설정할 수 있습니다. |
| `WANDB_IDENTITY_TOKEN_FILE`        | [identity federation](/ko/platform/hosting/iam/identity_federation/)용으로, Java Web Token(JWT)이 저장되는 로컬 디렉터리의 절대 경로입니다. |

<Note>
  GORILLA&#95;DATA&#95;RETENTION&#95;PERIOD 환경 변수는 신중하게 사용해야 합니다. 이 환경 변수를 설정하면 데이터가 즉시 삭제됩니다. 또한 이 플래그를 활성화하기 전에 데이터베이스와 스토리지 버킷을 모두 백업해 둘 것을 권장합니다.
</Note>

<div id="advanced-reliability-settings">
  ## 고급 안정성 설정
</div>

<div id="redis">
  ### Redis
</div>

외부 Redis 서버 구성은 선택 사항이지만, 프로덕션 시스템에서는 사용하는 것을 권장합니다. Redis는 서비스의 신뢰성을 높이고 캐싱을 통해 응답 시간을 줄이는 데 도움이 되며, 특히 대규모 프로젝트에서 유용합니다. 고가용성(HA)을 갖춘 ElastiCache와 같은 관리형 Redis 서비스를 사용하고, 다음 사양을 만족하도록 구성하세요:

* 최소 4GB 메모리, 권장 8GB
* Redis 버전 6.x
* 전송 구간 암호화
* 인증 활성화

Redis 인스턴스를 W&amp;B와 함께 구성하려면 `http(s)://YOUR-W&B-SERVER-HOST/system-admin`의 W&amp;B 설정 페이지로 이동합니다. &quot;Use an external Redis instance&quot; 옵션을 활성화하고, 다음 형식으로 Redis 연결 문자열을 입력합니다:

<Frame>
  <img src="/images/hosting/configure_redis.png" alt="W&B에서 Redis 구성하기" />
</Frame>

컨테이너나 Kubernetes 배포에서 환경 변수 `REDIS`를 사용해 Redis를 구성할 수도 있습니다. 또는 `REDIS`를 Kubernetes 시크릿으로 설정할 수도 있습니다.

이 페이지에서는 Redis 인스턴스가 기본 포트 `6379`에서 실행되고 있다고 가정합니다. 다른 포트를 사용하고 인증을 설정했으며, `redis` 인스턴스에서 TLS도 활성화하려는 경우 연결 문자열 형식은 대략 다음과 같습니다: `redis://$USER:$PASSWORD@$HOST:$PORT?tls=true`