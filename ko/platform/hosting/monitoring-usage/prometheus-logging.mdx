---
title: Prometheus 모니터링 사용
---

[Prometheus](https://prometheus.io/docs/introduction/overview/)를 W&amp;B Server와 함께 사용합니다. Prometheus 설치는 [Kubernetes ClusterIP 서비스](https://github.com/wandb/terraform-kubernetes-wandb/blob/main/main.tf#L225)로 노출됩니다.

<Warning>
  Prometheus 모니터링은 [Self-Managed 인스턴스](/ko/platform/hosting/hosting-options/self-managed)에만 사용할 수 있습니다.
</Warning>

아래 절차를 따라 Prometheus 메트릭 엔드포인트(`/metrics`)에 액세스합니다:

1. Kubernetes CLI 툴킷인 [kubectl](https://kubernetes.io/docs/reference/kubectl/)로 클러스터에 연결합니다. 자세한 내용은 Kubernetes의 [Accessing Clusters](https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/) 문서를 참조하세요.

2. 다음 명령으로 클러스터의 내부 주소를 찾습니다:

   ```bash
   kubectl describe svc prometheus
   ```

3. Kubernetes 클러스터에서 실행 중인 컨테이너 내부에서 [`kubectl exec`](https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands)을 사용해 셸 세션을 시작합니다. `<internal address>/metrics` 엔드포인트에 요청을 보냅니다.

   아래 명령을 복사해 터미널에서 실행하고, `<internal address>`를 내부 주소로 바꾸세요:

   ```bash
   kubectl exec <internal address>/metrics
   ```

테스트용 파드가 시작되며, 네트워크 내의 리소스에 액세스하기 위해 해당 파드로 exec 할 수 있습니다:

```bash
kubectl run -it testpod --image=alpine bin/ash --restart=Never --rm
```

그다음에는 액세스를 네트워크 내부로만 제한할지, Kubernetes NodePort 서비스로 직접 외부에 노출할지 선택할 수 있습니다.
