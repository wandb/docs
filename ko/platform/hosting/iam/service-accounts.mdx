---
description: 조직 및 팀 범위 서비스 계정을 사용하여 자동 또는 비대화형 워크플로를 관리합니다
displayed_sidebar: default
title: 서비스 계정으로 워크플로 자동화하기
---

import ServiceAccountBenefits from "/snippets/ko/_includes/service-account-benefits.mdx";
import ApiKeyViewOnceWarning from "/snippets/ko/_includes/api-key-view-once-warning.mdx";
import OrgServiceAccountCreate from "/snippets/ko/_includes/org-service-account-create.mdx";
import TeamServiceAccountCreate from "/snippets/ko/_includes/team-service-account-create.mdx";
import ServiceAccountApiKeyCreateAdditional from "/snippets/ko/_includes/service-account-api-key-create-additional.mdx";
import ServiceAccountApiKeyDelete from "/snippets/ko/_includes/service-account-api-key-delete.mdx";

서비스 계정은 팀 내 여러 프로젝트나 여러 팀에 걸쳐 반복적인 작업을 자동으로 수행하는 사람이 아닌 머신 사용자 계정입니다. 서비스 계정은 CI/CD 파이프라인, 자동화된 트레이닝 작업, 기타 머신 간 워크플로에 특히 적합합니다.

<div id="key-benefits">
  ## 주요 이점
</div>

<ServiceAccountBenefits />

<div id="overview">
  ## 개요
</div>

서비스 계정은 개인 사용자 자격 증명이나 하드코딩된 자격 증명을 사용하지 않고도 W&amp;B 워크플로를 자동화할 수 있는 안전한 방법을 제공합니다. 서비스 계정은 두 가지 범위에서 생성할 수 있습니다:

* **조직 범위(Organization-scoped)**: 조직 관리자가 생성하며, 모든 팀에 대한 접근 권한을 가집니다.
* **팀 범위(Team-scoped)**: 팀 관리자가 생성하며, 특정 팀으로 접근이 제한됩니다.

서비스 계정의 API 키를 사용하면 호출자는 서비스 계정의 범위 내에서 프로젝트를 읽거나 쓸 수 있습니다. 이를 통해 W&amp;B Models에서 실험 추적을 위한 자동화 워크플로를 중앙에서 관리하거나 W&amp;B Weave에서 트레이스를 기록할 수 있습니다.

서비스 계정은 다음과 같은 경우에 특히 유용합니다:

* **CI/CD 파이프라인**: GitHub Actions, GitLab CI, Jenkins에서 모델 트레이닝 run을 자동으로 기록
* **스케줄된 작업**: 야간 모델 재트레이닝, 주기적인 평가 run, 데이터 검증 워크플로
* **프로덕션 모니터링**: 프로덕션 시스템에서 추론 메트릭과 모델 성능을 기록
* **Jupyter 노트북**: JupyterHub 또는 Google Colab 환경에서 공유 노트북
* **Kubernetes 작업**: K8s 클러스터에서 실행되는 자동화 워크플로
* **Airflow/Prefect/Dagster**: ML 파이프라인 오케스트레이션 도구

<Note>
  서비스 계정은 [Dedicated Cloud](/ko/platform/hosting/hosting-options/dedicated_cloud), 엔터프라이즈 라이선스를 사용하는 [Self-Managed 인스턴스](/ko/platform/hosting/hosting-options/self-managed), 그리고 [Multi-tenant Cloud](/ko/platform/hosting/hosting-options/multi_tenant_cloud)의 엔터프라이즈 계정에서 사용할 수 있습니다.
</Note>

<div id="organization-scoped-service-accounts">
  ## 조직 범위 서비스 계정
</div>

조직 범위 서비스 계정은 팀과 관계없이 조직 내 모든 프로젝트에 대해, [제한된 프로젝트](/ko/platform/hosting/iam/access-management/restricted-projects/#visibility-scopes)를 제외하고 읽기 및 쓰기 권한을 가집니다. 조직 범위 서비스 계정이 제한된 프로젝트에 액세스하려면 해당 프로젝트의 관리자가 서비스 계정을 해당 프로젝트에 명시적으로 추가해야 합니다.

<div id="create-an-organization-scoped-service-account">
  ### 조직 범위의 서비스 계정 생성
</div>

<OrgServiceAccountCreate />

<ApiKeyViewOnceWarning />

<Note>
  조직 범위 서비스 계정은 조직 내 모든 팀이 소유한, 제한이 없는 프로젝트에 액세스할 수 있지만 기본 팀이 반드시 필요합니다. 이는 모델 트레이닝이나 생성형 AI 앱을 위해 환경에 `WANDB_ENTITY` 변수가 설정되어 있지 않더라도 워크로드가 실패하지 않도록 하기 위함입니다. 다른 팀의 프로젝트에 대해 조직 범위 서비스 계정을 사용하려면 해당 팀을 가리키도록 `WANDB_ENTITY` 환경 변수를 설정해야 합니다.
</Note>

<div id="team-scoped-service-accounts">
  ## 팀 범위 서비스 계정
</div>

팀 범위 서비스 계정은 소속 팀 내의 모든 프로젝트에서, 해당 팀의 [제한된 프로젝트](/ko/platform/hosting/iam/access-management/restricted-projects/#visibility-scopes)를 제외하고 읽기 및 쓰기 작업을 수행할 수 있습니다. 팀 범위 서비스 계정이 제한된 프로젝트에 액세스하려면, 해당 프로젝트의 관리자가 서비스 계정을 그 프로젝트에 명시적으로 추가해야 합니다.

<div id="create-a-team-scoped-service-account">
  ### Team 범위 서비스 계정 생성
</div>

<TeamServiceAccountCreate />

<ApiKeyViewOnceWarning />

<div id="create-additional-api-keys-for-a-service-account">
  ### 서비스 계정에 대한 추가 API 키 생성
</div>

<ServiceAccountApiKeyCreateAdditional />

<ApiKeyViewOnceWarning />

<div id="delete-a-service-account-api-key">
  ### 서비스 계정 API 키 삭제
</div>

<ServiceAccountApiKeyDelete />

팀 범위 서비스 계정을 사용하는 모델 트레이닝 또는 생성형 AI 앱 환경에서 팀을 설정하지 않으면, 모델 run 또는 Weave trace는 서비스 계정의 상위 팀 내 지정된 프로젝트에 기록됩니다. 이러한 상황에서는 참조된 사용자가 서비스 계정 상위 팀의 구성원이 아닌 이상, `WANDB_USERNAME` 또는 `WANDB_USER_EMAIL` 변수를 사용한 사용자 귀속은 *동작하지 않습니다*.

<Warning>
  팀 범위 서비스 계정은 상위 팀과 다른 팀에 속한 [팀 또는 제한 범위 프로젝트](/ko/platform/hosting/iam/access-management/restricted-projects/#visibility-scopes)에는 run을 기록할 수 없지만, 다른 팀의 공개 가시성 프로젝트에는 run을 기록할 수 있습니다.
</Warning>

<div id="external-service-accounts">
  ### 외부 서비스 계정
</div>

내장 서비스 계정 외에도 W&amp;B는 JSON Web Token(JWT)을 발급할 수 있는 IdP(Identity Provider)와의 [Identity federation](./identity_federation#external-service-accounts)을 통해 W&amp;B SDK와 CLI에서 팀 범위 외부 서비스 계정도 지원합니다.

<div id="best-practices">
  ## 모범 사례
</div>

조직에서 서비스 계정을 안전하고 효율적으로 사용하려면 다음 권장 사항을 따르세요:

* **시크릿 관리 도구 사용**: 서비스 계정 API 키는 일반 텍스트 설정 파일에 두지 말고, (예: AWS Secrets Manager, HashiCorp Vault, Azure Key Vault 같은) 안전한 시크릿 관리 시스템에 저장하세요.

* **최소 권한 원칙**: 필요한 프로젝트에만 액세스를 제한할 수 있도록, 가능하면 조직 범위 계정이 아니라 팀 범위 서비스 계정을 생성하세요.

* **사용 사례별 고유 서비스 계정**: 감사를 용이하게 하고 세분화된 액세스 제어를 가능하게 하기 위해, 서로 다른 자동화 워크플로(예: 하나는 CI/CD용, 다른 하나는 정기적인 재트레이닝용)에 대해 별도의 서비스 계정을 생성하세요.

* **정기 감사**: 활성 서비스 계정을 주기적으로 검토하고 더 이상 사용하지 않는 계정은 제거하세요. 감사 로그를 확인하여 서비스 계정 활동을 모니터링하세요.

* **API 키 안전하게 처리**:
  * API 키를 절대 버전 관리 시스템에 커밋하지 마세요
  * 애플리케이션에 키를 전달할 때는 환경 변수를 사용하세요
  * 키가 실수로 노출된 경우 키를 로테이션하세요

* **네이밍 규칙**: 서비스 계정의 목적을 나타내는 설명적인 이름을 사용하세요:
  * 권장: `ci-model-training`, `nightly-eval-pipeline`, `prod-inference-monitor`
  * 피해야 할 예: `service-account-1`, `test-sa`, `temp`

* **사용자 추적**: 여러 팀원이 동일한 자동화 워크플로를 사용하는 경우, 각 run이 누가 트리거했는지 추적할 수 있도록 `WANDB_USERNAME` 또는 `WANDB_USER_EMAIL`을 설정하세요:
  ```bash
  export WANDB_API_KEY="<service_account_key>"
  export WANDB_USERNAME="john.doe@company.com"
  ```

* **환경 설정**: 팀 범위 서비스 계정의 경우, run이 올바른 팀에 로깅되도록 항상 `WANDB_ENTITY`를 설정하세요:
  ```bash
  export WANDB_ENTITY="ml-team"
  export WANDB_PROJECT="production-models"
  ```

* **오류 처리**: 서비스 계정 자격 증명 관련 문제를 신속히 파악할 수 있도록, 인증 실패에 대한 적절한 오류 처리와 알림을 구현하세요.

* **문서화**: 다음 내용을 문서로 관리하세요:
  * 어떤 서비스 계정이 존재하는지와 각 계정의 목적
  * 각 서비스 계정을 사용하는 시스템/워크플로
  * 각 계정을 담당하는 팀의 연락처 정보

<div id="troubleshooting">
  ## 문제 해결
</div>

일반적인 문제와 해결 방법:

* **&quot;Unauthorized&quot; 오류**: API 키가 올바르게 설정되어 있고 서비스 계정에 대상 프로젝트에 대한 액세스 권한이 있는지 확인하세요.
* **Runs가 표시되지 않음**: `WANDB_ENTITY`가 올바른 팀 이름으로 설정되어 있는지 확인하세요.
* **사용자 연결이 작동하지 않음**: `WANDB_USERNAME`에 지정된 사용자가 해당 팀의 구성원인지 확인하세요.
* **제한된 프로젝트에 대한 액세스가 거부됨**: 서비스 계정을 해당 제한된 프로젝트의 액세스 목록에 명시적으로 추가하세요.