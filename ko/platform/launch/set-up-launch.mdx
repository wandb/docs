---
title: Launch 설정
---

이 페이지에서는 W&amp;B Launch를 설정하는 데 필요한 상위 수준의 단계들을 설명합니다:

1. **큐 설정**: 큐는 선입선출(FIFO) 방식이며, 각 큐에는 큐 설정이 있습니다. 큐 설정은 대상 리소스에서 잡이 어디에서 어떻게 실행되는지를 제어합니다.
2. **에이전트 설정**: 에이전트는 사용자의 머신/인프라에서 실행되며, 하나 이상의 큐를 폴링하여 Launch 잡을 가져옵니다. 잡이 가져와지면 에이전트는 이미지가 빌드되어 사용 가능한지 확인합니다. 그런 다음 에이전트는 잡을 대상 리소스에 제출합니다.

<div id="set-up-a-queue">
  ## 큐 설정
</div>

Launch 큐는 특정 대상 리소스를 가리키도록 설정해야 하며, 해당 리소스에 특화된 추가 설정도 포함해야 합니다. 예를 들어, Kubernetes 클러스터를 가리키는 Launch 큐에는 환경 변수가 포함되거나 Launch 큐 설정에서 커스텀 네임스페이스가 지정될 수 있습니다. 큐를 생성할 때는 사용하려는 대상 리소스와 그 리소스에서 사용할 설정을 모두 지정해야 합니다.

에이전트가 큐에서 잡을 받을 때는 큐 설정도 함께 전달받습니다. 에이전트가 잡을 대상 리소스에 제출할 때는 잡 자체에서 지정한 모든 오버라이드를 포함하여 큐 설정과 함께 제출합니다. 예를 들어, 잡 설정을 사용해 해당 잡 인스턴스에만 적용되는 Amazon SageMaker 인스턴스 유형을 지정할 수 있습니다. 이런 경우에는 최종 사용자를 위한 인터페이스로 [queue config templates](/ko/platform/launch/setup-queue-advanced/#configure-queue-template)를 사용하는 것이 일반적입니다.

<div id="create-a-queue">
  ### 큐 생성
</div>

1. [wandb.ai/launch](https://wandb.ai/launch)에서 Launch 앱으로 이동합니다.
2. 화면 오른쪽 상단의 **create queue** 버튼을 클릭합니다.

<Frame>
  <img src="/images/launch/create-queue.gif" alt="Launch 큐 생성" />
</Frame>

3. **Entity** 드롭다운 메뉴에서 큐가 속할 엔터티를 선택합니다.
4. **Queue** 필드에 큐의 이름을 입력합니다.
5. **Resource** 드롭다운에서 이 큐에 추가되는 잡이 사용할 컴퓨트 리소스를 선택합니다.
6. 이 큐에 대해 **Prioritization**을 허용할지 여부를 선택합니다. 우선순위 기능이 활성화되어 있으면, 팀의 사용자가 잡을 큐에 추가할 때 자신의 Launch 잡에 대한 우선순위를 지정할 수 있습니다. 우선순위가 높은 잡이 낮은 우선순위의 잡보다 먼저 실행됩니다.
7. **Configuration** 필드에 JSON 또는 YAML 형식으로 리소스 설정을 입력합니다. 설정 문서의 구조와 의미는 큐가 가리키는 리소스 유형에 따라 달라집니다. 자세한 내용은 대상 리소스에 대한 전용 설정 페이지를 참고하세요.

<div id="set-up-a-launch-agent">
  ## Launch 에이전트 설정
</div>

Launch 에이전트는 하나 이상의 Launch 큐에서 job을 폴링하는 장기간 실행 프로세스입니다. Launch 에이전트는 연결된 큐에 따라 job을 선입선출(FIFO) 순서 또는 우선순위 순서로 큐에서 꺼냅니다. 에이전트가 큐에서 job을 꺼내면, 필요에 따라 해당 job을 위한 이미지를 빌드합니다. 그런 다음 에이전트는 큐 설정에 지정된 설정 옵션과 함께 job을 대상 리소스에 제출합니다.

<Note>
  에이전트는 매우 유연하며 다양한 사용 사례를 지원하도록 설정할 수 있습니다. 에이전트에 필요한 설정은 특정 사용 사례에 따라 달라집니다. [Docker](/ko/platform/launch/setup-launch-docker/), [Amazon SageMaker](/ko/platform/launch/setup-launch-sagemaker/), [Kubernetes](/ko/platform/launch/setup-launch-kubernetes/), [Vertex AI](/ko/platform/launch/setup-vertex/) 전용 페이지를 참조하세요.
</Note>

<Note>
  W&amp;B는 특정 사용자의 API 키가 아니라 서비스 계정의 API 키로 에이전트를 시작할 것을 권장합니다. 서비스 계정의 API 키를 사용하면 다음과 같은 두 가지 이점이 있습니다.

  1. 에이전트가 개별 사용자에게 종속되지 않습니다.
  2. Launch를 통해 생성된 run과 연결된 작성자는, 에이전트에 연결된 사용자가 아니라 Launch job을 제출한 사용자로 Launch에서 인식됩니다.
</Note>

<div id="agent-configuration">
  ### Agent configuration
</div>

`launch-config.yaml`이라는 YAML 파일로 Launch 에이전트를 설정합니다. 기본적으로 W&amp;B는 `~/.config/wandb/launch-config.yaml`에서 설정 파일을 확인합니다. Launch 에이전트를 활성화할 때 다른 디렉터리를 지정할 수도 있습니다.

Launch 에이전트 설정 파일의 내용은 에이전트가 동작하는 환경, Launch 큐의 대상 리소스, Docker 빌더 요구 사항, 클라우드 레지스트리 요구 사항 등에 따라 달라집니다.

사용 사례와 관계없이 Launch 에이전트에는 공통으로 설정할 수 있는 핵심 옵션이 있습니다:

* `max_jobs`: 에이전트가 동시에 실행할 수 있는 최대 작업 수
* `entity`: 큐가 속한 Entity
* `queues`: 에이전트가 모니터링할 하나 이상의 큐 이름

<Note>
  W&amp;B CLI를 사용하여 Launch 에이전트에 대한 공통 설정 옵션을(설정 YAML 파일 대신) 지정할 수 있습니다. 최대 작업 수, W&amp;B Entity, Launch 큐 등을 설정할 수 있습니다. 자세한 내용은 [`wandb launch-agent`](/ko/models/ref/cli/wandb-launch-agent) 명령을 참조하세요.
</Note>

다음 YAML 스니펫은 기본 Launch 에이전트 설정 키를 지정하는 방법을 보여줍니다:

```yaml title="launch-config.yaml"
# 동시에 수행할 최대 run 수. -1 = 제한 없음
max_jobs: -1

entity: <entity-name>

# 폴링할 큐 목록.
queues:
  - <queue-name>
```

<div id="configure-a-container-builder">
  ### 컨테이너 빌더 설정
</div>

Launch 에이전트는 이미지를 빌드하도록 설정할 수 있습니다. git 리포지토리나 코드 아티팩트에서 생성된 Launch 잡을 사용하려면, 에이전트가 컨테이너 빌더를 사용하도록 반드시 설정해야 합니다. Launch 잡 생성 방법에 대한 자세한 내용은 [Create a launch job](/ko/platform/launch/create-launch-job/) 문서를 참고하세요.

W&amp;B Launch는 세 가지 빌더 옵션을 지원합니다:

* Docker: Docker 빌더는 로컬 Docker 데몬을 사용해 이미지를 빌드합니다.
* [Kaniko](https://github.com/GoogleContainerTools/kaniko): Kaniko는 Docker 데몬을 사용할 수 없는 환경에서 이미지 빌드를 가능하게 하는 Google 프로젝트입니다.
* Noop: 에이전트는 잡을 빌드하지 않고, 대신 미리 빌드된 이미지만 pull합니다.

<Note>
  Docker 데몬을 사용할 수 없는 환경(예: Kubernetes 클러스터)에서 에이전트가 폴링하는 경우 Kaniko 빌더를 사용하세요.

  Kaniko 빌더에 대한 자세한 내용은 [Set up Kubernetes](/ko/platform/launch/setup-launch-kubernetes/)를 참고하세요.
</Note>

이미지 빌더를 지정하려면 에이전트 설정에 builder 키를 포함하세요. 예를 들어, 다음 코드 스니펫은 Docker 또는 Kaniko를 사용하도록 지정하는 Launch 설정(`launch-config.yaml`)의 일부를 보여줍니다:

```yaml title="launch-config.yaml"
builder:
  type: docker | kaniko | noop
```

<div id="configure-a-container-registry">
  ### 컨테이너 레지스트리 구성
</div>

일부 경우에는 Launch 에이전트를 클라우드 레지스트리에 연결해야 할 수 있습니다. Launch 에이전트를 클라우드 레지스트리에 연결하고자 할 수 있는 일반적인 시나리오는 다음과 같습니다.

* 강력한 워크스테이션이나 클러스터처럼 이미지를 빌드한 환경이 아닌 다른 환경에서 작업을 실행하려는 경우
* 에이전트를 사용해 이미지를 빌드하고 이 이미지를 Amazon SageMaker 또는 Vertex AI에서 실행하려는 경우
* Launch 에이전트가 이미지 리포지토리에서 이미지를 가져오기 위한 자격 증명을 제공하도록 하려는 경우

에이전트를 컨테이너 레지스트리와 상호 작용하도록 구성하는 방법에 대한 자세한 내용은 [고급 에이전트 설정](/ko/platform/launch/setup-agent-advanced/) 페이지를 참조하세요.

<div id="activate-the-launch-agent">
  ## Launch 에이전트 활성화
</div>

W&amp;B CLI의 `launch-agent` 명령으로 Launch 에이전트를 활성화합니다:

```bash
wandb launch-agent -q <queue-1> -q <queue-2> --max-jobs 5
```

일부 사용 사례에서는 Kubernetes 클러스터 내부에서 큐를 폴링하는 Launch agent를 사용하고자 할 수 있습니다. 자세한 내용은 [고급 큐 설정 페이지](/ko/platform/launch/setup-queue-advanced/)를 참고하세요.
