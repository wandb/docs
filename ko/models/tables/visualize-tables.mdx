---
description: W&B Tables를 시각화하고 분석합니다.
title: 테이블 시각화 및 분석
---

W&B Tables를 사용자 지정하여 머신러닝 모델의 성능과 관련된 질문에 답하고, 데이터를 분석하는 등 다양한 작업을 수행할 수 있습니다. 

다음과 같은 목적으로 데이터를 대화형으로 탐색하세요:

* 아티팩트 버전으로 로깅된 [두 개의 W&B Tables를 비교](#table-comparison-options)하여 데이터나 모델 성능의 변화를 분석합니다.
* 데이터의 고수준 패턴을 파악합니다.
* [테이블에 로깅한 값이 실행 전반에 걸쳐 어떻게 변하는지 확인](#visualize-how-values-change-throughout-your-runs)합니다.

<Note>
W&B Tables는 다음과 같은 동작 특성을 갖습니다:
1. **아티팩트 컨텍스트에서 상태 비저장(stateless)**: 아티팩트 버전과 함께 로깅된 모든 테이블은 브라우저 창을 닫을 때마다 기본 상태로 초기화됩니다.
2. **워크스페이스 또는 Report 컨텍스트에서 상태 저장(stateful)**: 단일 실행 워크스페이스, 다중 실행 프로젝트 워크스페이스 또는 Report에서 테이블에 가한 변경 사항은 그대로 유지됩니다.

현재 W&B Table 보기를 저장하는 방법은 [보기 저장](#save-your-view)을 참조하세요.
</Note>

<div id="table-comparison-options">
  ## 테이블 비교 옵션
</div>

두 개의 테이블을 [병합 보기](#merged-view) 또는 [나란히 보기](#side-by-side-view)로 비교할 수 있습니다. 예를 들어, 아래 이미지는 MNIST 데이터에 대한 테이블 비교를 보여줍니다.

<Frame>
    <img src="/images/data_vis/table_comparison.png" alt="학습 에포크 비교" max-width="90%"  />
</Frame>

두 개의 테이블을 비교하려면 다음 단계를 따르세요:

1. W&B 앱에서 프로젝트로 이동합니다.
2. 왼쪽 패널에서 아티팩트 아이콘을 선택합니다.
2. 아티팩트 버전을 선택합니다. 

다음 이미지는 다섯 개의 에포크 각각 이후에 MNIST 검증 데이터에 대해 모델이 예측한 결과를 보여줍니다([여기에서 대화형 예제를 확인하세요](https://wandb.ai/stacey/mnist-viz/artifacts/predictions/baseline/d888bc05719667811b23/files/predictions.table.json)).

<Frame>
    <img src="/images/data_vis/preds_mnist.png" alt="'predictions'를 클릭하여 테이블을 확인하세요" max-width="90%"  />
</Frame>

3. 사이드바에서 비교하려는 두 번째 아티팩트 버전 위에 마우스를 올린 다음 나타나는 **Compare**를 클릭합니다. 예를 들어, 아래 이미지에서는 "v4"라는 레이블이 있는 버전을 선택하여 동일한 모델이 5 에포크 학습 후 생성한 MNIST 예측과 비교합니다. 

<Frame>
    <img src="/images/data_vis/preds_2.png" alt="모델 예측 비교" max-width="90%"  />
</Frame>

<div id="merged-view">
  ### 병합 보기
</div>

{/* TODO: 단계 추가 */}

처음에는 두 테이블이 병합된 상태로 보입니다. 먼저 선택된 테이블은 인덱스 0이며 파란색으로 강조 표시되고, 두 번째 테이블은 인덱스 1이며 노란색으로 강조 표시됩니다. [병합된 테이블의 라이브 예시는 여기에서 확인할 수 있습니다](https://wandb.ai/stacey/mnist-viz/artifacts/predictions/baseline/d888bc05719667811b23/files/predictions.table.json#7dd0cd845c0edb469dec).

<Frame>
  <img src="/images/data_vis/merged_view.png" alt="병합된 보기" max-width="90%" />
</Frame>

병합된 보기에서는 다음을 수행할 수 있습니다.

* **조인 키 선택**: 왼쪽 상단의 드롭다운을 사용해 두 테이블에서 조인 키로 사용할 컬럼을 설정합니다. 일반적으로 각 행의 고유 식별자(예: 데이터셋에서 특정 예시의 파일 이름, 또는 생성된 샘플에 대한 증가하는 인덱스)입니다. 현재는 *임의의* 컬럼을 선택할 수 있으므로, 경우에 따라 테이블이 읽기 어려워지거나 쿼리가 느려질 수 있습니다.
* **조인 대신 이어 붙이기(concatenate)**: 이 드롭다운에서 &quot;concatenating all tables&quot;를 선택하면, 컬럼을 기준으로 조인하는 대신 두 테이블의 모든 행을 *하나의 더 큰 Table로 union all* 할 수 있습니다.
* **각 Table을 명시적으로 참조**: 필터 표현식에서 0, 1, * 를 사용해 하나 또는 두 테이블 인스턴스의 특정 컬럼을 명시적으로 지정합니다.
* **자세한 수치 차이를 히스토그램으로 시각화**: 어떤 셀의 값이든 한눈에 비교할 수 있습니다.


<div id="side-by-side-view">
  ### 나란히 비교
</div>

{/* TODO */}

두 개의 테이블을 나란히 보려면 첫 번째 드롭다운을 &quot;Merge Tables: Table&quot;에서 &quot;List of: Table&quot;로 변경한 다음, 이에 맞게 &quot;Page size&quot;를 조정하세요. 여기에서 먼저 선택한 테이블은 왼쪽에, 두 번째 테이블은 오른쪽에 표시됩니다. 또한 &quot;Vertical&quot; 체크박스를 클릭해서 이 테이블들을 세로로도 비교할 수 있습니다.

<Frame>
  <img src="/images/data_vis/side_by_side.png" alt="나란히 표시된 테이블 뷰" max-width="90%" />
</Frame>

* **한눈에 테이블 비교**: 두 테이블에 정렬, 필터, 그룹화 등의 작업을 동시에 적용하여 변경 사항이나 차이를 빠르게 확인할 수 있습니다. 예를 들어, 모델 예측값별로 그룹화된 잘못된 예측, 전체에서 가장 어려운 네거티브 샘플, 실제 레이블별 신뢰도 점수 분포 등을 확인할 수 있습니다.
* **두 테이블을 독립적으로 탐색**: 스크롤하면서 한쪽 또는 관심 있는 행에 집중해서 살펴보세요.


<div id="compare-artifacts">
  ## 아티팩트 비교
</div>

아티팩트 버전으로 로그한 두 개의 W&B Table을 비교하여 데이터나 모델 성능의 변화를 분석할 수 있습니다. 병합 보기(merged view) 또는 나란히 보기(side-by-side view)를 사용해 테이블을 비교하세요.

<div id="compare-tables-across-time">
  ### 시간에 따른 테이블 비교
</div>

훈련 시간에 따른 모델 성능을 분석하려면, 의미 있는 각 훈련 단계마다 아티팩트에 테이블을 로그하세요. 예를 들어, 모든 검증 단계가 끝날 때마다, 50 에포크마다, 혹은 파이프라인에 적합한 어떤 주기로든 테이블을 기록할 수 있습니다. 나란히 보기(side-by-side view)를 사용해 모델 예측의 변화를 시각화하세요.

<Frame>
    <img src="/images/data_vis/compare_across_time.png" alt="훈련 진행 상황 비교" max-width="90%"  />
</Frame>

훈련 시간에 따른 예측을 시각화하는 보다 자세한 방법은 [predictions over time 리포트](https://wandb.ai/stacey/mnist-viz/reports/Visualize-Predictions-over-Time--Vmlldzo1OTQxMTk)와 이 인터랙티브 [노트북 예제](https://colab.research.google.com/github/wandb/examples/blob/master/colabs/datasets-predictions/W%26B_Tables_Quickstart.ipynb?_gl=1*kf20ui*_gcl_au*OTI3ODM1OTcyLjE3MzE0MzU1NjU.*_ga*ODEyMjQ4MjkyLjE3MzE0MzU1NjU.*_ga_JH1SJHJQXJ*MTczMTcwNTMwNS45LjEuMTczMTcwNTM5My4zMy4wLjA.*_ga_GMYDGNGKDT*MTczMTcwNTMwNS44LjEuMTczMTcwNTM5My4wLjAuMA..)를 참고하세요.

<div id="compare-tables-across-model-variants">
  ### 모델 변형 간 테이블 비교
</div>

서로 다른 두 모델에 대해 동일한 스텝에서 로깅된 두 아티팩트 버전을 비교하여, 다양한 설정(하이퍼파라미터, 기본 아키텍처 등)에 따른 모델 성능을 분석합니다.

예를 들어, 첫 번째 합성곱 레이어를 32에서 64로, 두 번째를 128에서 256으로 두 배로 늘리고, 학습률(learning rate)을 0.001에서 0.002로 두 배로 설정한 새로운 모델 변형 `2x_layers_2x_lr`과 `baseline`의 예측값을 비교해 보세요. [이 라이브 예시](https://wandb.ai/stacey/mnist-viz/artifacts/predictions/baseline/d888bc05719667811b23/files/predictions.table.json#2bb3b1d40aa777496b5d$2x_layers_2x_lr)에서는 나란히 보기(side-by-side view)를 사용해, 1 epoch 학습 후(왼쪽 탭)와 5 epoch 학습 후(오른쪽 탭)의 오답 예측만 보도록 필터링할 수 있습니다.

<Tabs>
<Tab title="1 training epoch">
<Frame>
    <img src="/images/data_vis/compare_across_variants.png" alt="성능 비교"  />
</Frame>
</Tab>
<Tab title="5 training epochs">
<Frame>
    <img src="/images/data_vis/compare_across_variants_after_5_epochs.png" alt="모델 변형 간 성능 비교"  />
</Frame>
</Tab>
</Tabs>

<div id="visualize-how-values-change-throughout-your-runs">
  ## 실행 전반에 걸쳐 값이 어떻게 변하는지 시각화하기
</div>

단계 슬라이더를 사용해 테이블에 기록한 값이 실행 전반에 걸쳐 어떻게 변하는지 확인할 수 있습니다. 단계 슬라이더를 움직여 서로 다른 단계에서 기록된 값을 확인하세요. 예를 들어 각 실행 후에 loss, accuracy 또는 다른 지표가 어떻게 변하는지 볼 수 있습니다. 

슬라이더는 키를 사용해 step 값을 결정합니다. 슬라이더의 기본 키는 `_step`으로, W&B가 자동으로 기록해 주는 특수 키입니다. `_step` 키는 코드에서 `wandb.Run.log()`를 호출할 때마다 1씩 증가하는 정수입니다.

W&B Table에 step 슬라이더를 추가하려면:

1. 프로젝트의 workspace로 이동합니다.
2. workspace 오른쪽 상단에서 **Add panel**을 클릭합니다.
3. **Query panel**을 선택합니다.
4. query expression editor에서 `runs`를 선택하고 키보드의 **Enter** 키를 누릅니다.
5. 기어 아이콘을 클릭해 패널 설정을 확인합니다.
6. **Render As** 선택기를 **Stepper**로 설정합니다.
7. **Stepper Key**를 `_step` 또는 step 슬라이더에 사용할 [단위로 쓸 키](#custom-step-keys)로 설정합니다.

다음 이미지는 세 개의 W&B 실행과, 이들이 step 295에서 기록한 값을 보여 주는 query panel입니다.

<Frame>
    <img src="/images/data_vis/stepper_key.png" alt="단계 슬라이더 기능"  />
</Frame>

W&B 앱 UI에서 여러 step에 대해 중복된 값을 볼 수 있습니다. 이러한 중복은 여러 실행이 서로 다른 step에서 동일한 값을 기록하거나, 특정 실행이 모든 step에서 값을 기록하지 않는 경우에 발생할 수 있습니다. 주어진 step에 값이 없는 경우, W&B는 슬라이더 키로 마지막으로 기록된 값을 사용합니다.

<div id="custom-step-key">
  ### 사용자 정의 step 키
</div>

step 키는 `epoch` 또는 `global_step`처럼 실행에서 step 키로 기록하는 임의의 숫자형 메트릭이 될 수 있습니다. 사용자 정의 step 키를 사용하면 W&amp;B는 해당 키의 각 값을 실행 내의 step(`_step`)에 매핑합니다.

다음 표는 사용자 정의 step 키 `epoch`가 세 개의 서로 다른 실행 `serene-sponge`, `lively-frog`, `vague-cloud`에 대해 `_step` 값에 어떻게 매핑되는지 보여줍니다. 각 행은 특정 실행에서 특정 `_step`에서 `wandb.Run.log()`가 호출된 것을 나타냅니다. 각 열에는 해당 step에서 기록된, (있다면) 대응하는 epoch 값이 표시됩니다. 공간을 절약하기 위해 일부 `_step` 값은 생략되어 있습니다.

처음으로 `wandb.Run.log()`가 호출되었을 때는 어떤 실행도 `epoch` 값을 기록하지 않았기 때문에, 표에서는 `epoch`에 대해 빈 값으로 표시됩니다.

| `_step` | vague-cloud (`epoch`) | lively-frog(`epoch`) | serene-sponge (`epoch`) |
| ------- | --------------------- | -------------------- | ----------------------- |
| 1       |                       |                      |                         |
| 2       |                       |                      | 1                       |
| 4       |                       | 1                    | 2                       |
| 5       | 1                     |                      |                         |
| 6       |                       |                      | 3                       |
| 8       |                       | 2                    | 4                       |
| 10      |                       |                      | 5                       |
| 12      |                       | 3                    | 6                       |
| 14      |                       |                      | 7                       |
| 15      | 2                     |                      |                         |
| 16      |                       | 4                    | 8                       |
| 18      |                       |                      | 9                       |
| 20      | 3                     | 5                    | 10                      |

이제 슬라이더가 `epoch = 1`로 설정되어 있다면 다음과 같은 일이 발생합니다:

* `vague-cloud`는 `epoch = 1`을 찾아 `_step = 5`에서 기록된 값을 반환합니다.
* `lively-frog`는 `epoch = 1`을 찾아 `_step = 4`에서 기록된 값을 반환합니다.
* `serene-sponge`는 `epoch = 1`을 찾아 `_step = 2`에서 기록된 값을 반환합니다.

슬라이더가 `epoch = 9`로 설정된 경우:

* `vague-cloud`는 `epoch = 9`를 기록하지 않았으므로, W&amp;B는 바로 이전의 최신 값인 `epoch = 3`을 사용하고 `_step = 20`에서 기록된 값을 반환합니다.
* `lively-frog`는 `epoch = 9`를 기록하지 않았지만, 바로 이전의 최신 값은 `epoch = 5`이므로 `_step = 20`에서 기록된 값을 반환합니다.
* `serene-sponge`는 `epoch = 9`를 찾아 `_step = 18`에서 기록된 값을 반환합니다.

{/* | | |
  | ---- | ---- |
  | 실행 기록 테이블 스텝퍼 | |
  | 실행 기록 플롯 스텝퍼 | |
  | 스텝퍼 | | */}


<div id="save-your-view">
  ## 뷰 저장하기
</div>

실행 워크스페이스, 프로젝트 워크스페이스 또는 리포트에서 상호작용하는 테이블은 뷰 상태가 자동으로 저장됩니다. 어떤 테이블 작업을 적용한 뒤 브라우저를 닫더라도, 다음에 해당 테이블로 이동하면 마지막으로 보던 구성 상태가 유지됩니다. 

<Note>
Artifact 컨텍스트에서 상호작용하는 테이블은 상태가 저장되지 않습니다.
</Note>

워크스페이스에서 특정 상태의 테이블을 저장하려면, 해당 테이블을 W&amp;B Report로 내보내면 됩니다. 테이블을 Report로 내보내려면:

1. 워크스페이스 시각화 패널 오른쪽 상단의 케밥 아이콘(세로 점 3개)을 선택합니다.
2. **Share panel** 또는 **Add to report**를 선택합니다.

<Frame>
    <img src="/images/data_vis/share_your_view.png" alt="Report 공유 옵션" max-width="90%"  />
</Frame>

<div id="examples">
  ## 예시
</div>

다음 리포트는 W&B Tables의 다양한 사용 사례를 보여줍니다.

* [시간 경과에 따른 예측 시각화](https://wandb.ai/stacey/mnist-viz/reports/Visualize-Predictions-over-Time--Vmlldzo1OTQxMTk)
* [워크스페이스에서 Tables 비교하기](https://wandb.ai/stacey/xtable/reports/How-to-Compare-Tables-in-Workspaces--Vmlldzo4MTc0MTA)
* [이미지 및 분류 모델](https://wandb.ai/stacey/mendeleev/reports/Tables-Tutorial-Visualize-Data-for-Image-Classification--VmlldzozNjE3NjA)
* [텍스트 및 생성 언어 모델](https://wandb.ai/stacey/nlg/reports/Tables-Tutorial-Visualize-Text-Data-Predictions---Vmlldzo1NzcwNzY)
* [개체명 인식 (Named Entity Recognition)](https://wandb.ai/stacey/ner_spacy/reports/Named-Entity-Recognition--Vmlldzo3MDE3NzQ)
* [AlphaFold 단백질](https://wandb.ai/wandb/examples/reports/AlphaFold-ed-Proteins-in-W-B-Tables--Vmlldzo4ODc0MDc)