---
title: Query 패널 개요
description: 이 페이지의 일부 기능은 베타 버전이며, 피처 플래그(feature flag) 뒤에 숨겨져 있습니다. 관련 기능을 모두 사용하려면
  프로필 페이지의 bio 섹션에 `weave-plot`을 추가하세요.
---

<Note>
W&B Weave를 찾고 계신가요? 생성형 AI 애플리케이션 구축을 위한 W&B의 도구 모음인 Weave에 대한 문서는 여기서 확인하세요: [wandb.me/weave](https://wandb.github.io/weave/?utm_source=wandb_docs&utm_medium=docs&utm_campaign=weave-nudge).
</Note>

쿼리 패널을 사용하여 데이터를 쿼리하고 대화형으로 시각화하세요.

<Frame>
    <img src="/images/weave/pretty_panel.png" alt="Query panel"  />
</Frame>

{/* <Note>
이 팀이 쿼리 패널을 사용하여 벤치마크를 시각화한 방법은 [Keras XLA benchmark report](http://wandb.me/keras-xla-benchmark)를 참조하세요.
</Note> */}

## 쿼리 패널 생성하기

Workspace 또는 Reports 내에 쿼리를 추가합니다.

<Tabs>
<Tab title="Project workspace">
1. 프로젝트의 Workspace로 이동합니다.
2. 우측 상단 모서리에서 `Add panel`을 클릭합니다.
3. 드롭다운에서 `Query panel`을 선택합니다.
</Tab>
<Tab title="W&B Report">
`/Query panel`을 입력하고 선택합니다.

<Frame>
    <img src="/images/weave/add_weave_panel_report_1.png" alt="Query panel option"  />
</Frame>

또는 다음과 같이 일련의 Runs에 쿼리를 연결할 수 있습니다:
1. Reports 내에서 `/Panel grid`를 입력하고 선택합니다.
2. `Add panel` 버튼을 클릭합니다.
3. 드롭다운에서 `Query panel`을 선택합니다.
</Tab>
</Tabs>

## 쿼리 구성 요소

### Expressions

쿼리 표현식을 사용하여 Runs, Artifacts, Models, 테이블 등 W&B에 저장된 데이터를 쿼리하세요.

#### 예시: 테이블 쿼리
W&B Table을 쿼리하고 싶다고 가정해 봅시다. 트레이닝 코드에서 `"cifar10_sample_table"`이라는 이름의 테이블을 로그합니다:

```python
import wandb
with wandb.init() as run:
  # cifar10_sample_table이라는 이름으로 테이블을 로그합니다.
  run.log({"cifar10_sample_table":<MY_TABLE>})
```

쿼리 패널 내에서 다음과 같이 테이블을 쿼리할 수 있습니다:
```python
runs.summary["cifar10_sample_table"]
```
<Frame>
    <img src="/images/weave/basic_weave_expression.png" alt="Table query expression"  />
</Frame>

상세 분석:

* `runs`는 쿼리 패널이 Workspace에 있을 때 쿼리 패널 표현식에 자동으로 주입되는 변수입니다. 이 "값"은 해당 특정 Workspace에서 볼 수 있는 Runs의 리스트입니다. [여기에서 Run 내에서 사용 가능한 다양한 속성에 대해 읽어보세요](/models/track/public-api-guide/#understanding-the-different-attributes).
* `summary`는 Run의 Summary 오브젝트를 반환하는 op입니다. Ops는 _mapped_ 되는데, 이는 이 op가 리스트의 각 Run에 적용되어 Summary 오브젝트 리스트를 결과로 반환함을 의미합니다.
* `["cifar10_sample_table"]`은 대괄호로 표시된 Pick op이며, `predictions` 파라미터를 가집니다. Summary 오브젝트는 사전(dictionary)이나 맵처럼 작동하므로, 이 연산은 각 Summary 오브젝트에서 `predictions` 필드를 추출합니다.

대화형으로 직접 쿼리를 작성하는 방법을 배우려면 [Query panel demo](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr)를 참조하세요.

### Configurations

패널 왼쪽 상단 모서리에 있는 톱니바퀴 아이콘을 선택하여 쿼리 설정을 확장합니다. 이를 통해 사용자는 패널 유형과 결과 패널의 파라미터를 구성할 수 있습니다.

<Frame>
    <img src="/images/weave/weave_panel_config.png" alt="Panel configuration menu"  />
</Frame>

### Result panels

마지막으로, 쿼리 결과 패널은 선택된 쿼리 패널을 사용하여 쿼리 표현식의 결과를 렌더링하며, 데이터를 대화형 형식으로 표시하도록 설정에서 구성됩니다. 다음 이미지는 동일한 데이터의 Table과 Plot을 보여줍니다.

<Frame>
    <img src="/images/weave/result_panel_table.png" alt="Table result panel"  />
</Frame>

<Frame>
    <img src="/images/weave/result_panel_plot.png" alt="Plot result panel"  />
</Frame>

## 기본 연산
쿼리 패널 내에서 수행할 수 있는 일반적인 연산은 다음과 같습니다.
### Sort
컬럼 옵션에서 정렬합니다:
<Frame>
    <img src="/images/weave/weave_sort.png" alt="Column sort options"  />
</Frame>

### Filter
쿼리에서 직접 필터링하거나 왼쪽 상단 모서리의 필터 버튼을 사용할 수 있습니다(두 번째 이미지).
<Frame>
    <img src="/images/weave/weave_filter_1.png" alt="Query filter syntax"  />
</Frame>
<Frame>
    <img src="/images/weave/weave_filter_2.png" alt="Filter button"  />
</Frame>

### Map
Map 연산은 리스트를 반복하며 데이터의 각 요소에 함수를 적용합니다. 패널 쿼리에서 직접 수행하거나 컬럼 옵션에서 새 컬럼을 삽입하여 수행할 수 있습니다.
<Frame>
    <img src="/images/weave/weave_map.png" alt="Map operation query"  />
</Frame>
<Frame>
    <img src="/images/weave/weave_map.gif" alt="Map column insertion"  />
</Frame>

### Groupby
쿼리를 사용하거나 컬럼 옵션에서 그룹화할 수 있습니다.
<Frame>
    <img src="/images/weave/weave_groupby.png" alt="Group by query"  />
</Frame>
<Frame>
    <img src="/images/weave/weave_groupby.gif" alt="Group by column options"  />
</Frame>

### Concat
concat 작업을 통해 2개의 테이블을 연결하고 패널 설정에서 연결하거나 조인할 수 있습니다.

### Join
쿼리에서 직접 테이블을 조인하는 것도 가능합니다. 다음 쿼리 표현식을 고려해 보세요:
```python
project("luis_team_test", "weave_example_queries").runs.summary["short_table_0"].table.rows.concat.join(\
project("luis_team_test", "weave_example_queries").runs.summary["short_table_1"].table.rows.concat,\
(row) => row["Label"],(row) => row["Label"], "Table1", "Table2",\
"false", "false")
```
<Frame>
    <img src="/images/weave/weave_join.png" alt="Table join operation"  />
</Frame>

왼쪽의 테이블은 다음에서 생성됩니다:
```python
project("luis_team_test", "weave_example_queries").\
runs.summary["short_table_0"].table.rows.concat.join
```
오른쪽의 테이블은 다음에서 생성됩니다:
```python
project("luis_team_test", "weave_example_queries").\
runs.summary["short_table_1"].table.rows.concat
```
여기서:
* `(row) => row["Label"]`은 각 테이블의 셀렉터로, 어떤 컬럼을 기준으로 조인할지 결정합니다.
* `"Table1"` 및 `"Table2"`는 조인되었을 때 각 테이블의 이름입니다.
* `true` 및 `false`는 왼쪽 및 오른쪽 내부/외부 조인(inner/outer join) 설정입니다.


## Runs 오브젝트
쿼리 패널을 사용하여 `runs` 오브젝트에 엑세스하세요. Run 오브젝트는 Experiments의 기록을 저장합니다. 자세한 내용은 [Accessing runs object](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr#3.-accessing-runs-object)에서 확인할 수 있지만, 간단히 요약하자면 `runs` 오브젝트에서 다음을 사용할 수 있습니다:
* `summary`: Run 결과를 요약하는 정보 사전입니다. 정확도(accuracy)나 손실(loss)과 같은 스칼라 값 또는 대용량 파일이 될 수 있습니다. 기본적으로 `wandb.Run.log()`는 summary를 로그된 시계열 데이터의 최종 값으로 설정합니다. summary의 내용을 직접 설정할 수도 있습니다. summary를 Run의 출력값으로 생각하세요.
* `history`: 모델 트레이닝 중에 변하는 값(예: loss)을 저장하기 위한 사전 리스트입니다. `wandb.Run.log()` 코맨드는 이 오브젝트에 데이터를 추가합니다.
* `config`: 트레이닝 Run의 하이퍼파라미터나 데이터셋 Artifact를 생성하는 Run의 전처리 방법과 같은 Run의 설정 정보 사전입니다. 이를 Run의 "입력값"으로 생각하세요.
<Frame>
    <img src="/images/weave/weave_runs_object.png" alt="Runs object structure"  />
</Frame>

## Artifacts 엑세스

Artifacts는 W&B의 핵심 개념입니다. 이는 버전 관리되는 이름이 지정된 파일 및 디렉토리의 모음입니다. Artifacts를 사용하여 모델 가중치, 데이터셋 및 기타 파일이나 디렉토리를 추적하세요. Artifacts는 W&B에 저장되며 다운로드하거나 다른 Runs에서 사용할 수 있습니다. 자세한 내용과 예시는 [Accessing artifacts](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr#4.-accessing-artifacts)에서 확인할 수 있습니다. Artifacts는 일반적으로 `project` 오브젝트에서 엑세스합니다:
* `project.artifactVersion()`: 프로젝트 내의 주어진 이름과 버전에 대한 특정 아티팩트 버전을 반환합니다.
* `project.artifact("")`: 프로젝트 내의 주어진 이름에 대한 아티팩트를 반환합니다. 그런 다음 `.versions`를 사용하여 이 아티팩트의 모든 버전 리스트를 가져올 수 있습니다.
* `project.artifactType()`: 프로젝트 내의 주어진 이름에 대한 `artifactType`을 반환합니다. 그런 다음 `.artifacts`를 사용하여 이 타입의 모든 아티팩트 리스트를 가져올 수 있습니다.
* `project.artifactTypes`: 프로젝트 하위의 모든 아티팩트 타입 리스트를 반환합니다.
<Frame>
    <img src="/images/weave/weave_artifacts.png" alt="Artifact access methods"  />
</Frame>
