---
description: 이 페이지의 일부 기능은 베타 상태이며 기능 플래그 뒤에 숨겨져 있습니다.
  프로필 페이지의 자기소개란에 `weave-plot`을 추가하면 관련된 모든 기능을 사용할 수 있습니다.
title: Query 패널 개요
---

<Note>
  W&amp;B Weave를 찾고 계신가요? 생성형 AI 애플리케이션 구축을 위한 W&amp;B의 도구 제품군을 말씀하시는 건가요? Weave 문서는 여기에서 확인하세요: [wandb.me/weave](https://wandb.github.io/weave/?utm_source=wandb_docs\&utm_medium=docs\&utm_campaign=weave-nudge).
</Note>

Query 패널을 사용해 데이터를 쿼리하고 대화형으로 시각화하세요.

<Frame>
  <img src="/images/weave/pretty_panel.png" alt="Query 패널" />
</Frame>

{/* <Note>
  [Keras XLA 벤치마크 리포트](http://wandb.me/keras-xla-benchmark)를 참고해 이 팀이 쿼리 패널을 사용해 벤치마크를 어떻게 시각화했는지 확인해 보세요.
  </Note> */}

<div id="create-a-query-panel">
  ## 쿼리 패널 생성
</div>

워크스페이스 또는 리포트에 쿼리를 추가합니다.

<Tabs>
  <Tab title="프로젝트 Workspace">
    1. 프로젝트의 워크스페이스로 이동합니다.
    2. 오른쪽 상단에서 `Add panel`을 클릭합니다.
    3. 드롭다운에서 `Query panel`을 선택합니다.
  </Tab>

  <Tab title="W&B Report">
    `/Query panel`을 입력하고 선택합니다.

    <Frame>
      <img src="/images/weave/add_weave_panel_report_1.png" alt="Query panel 옵션" />
    </Frame>

    또는 쿼리를 여러 run 집합과 연결할 수도 있습니다:

    1. 리포트 내에서 `/Panel grid`를 입력하고 선택합니다.
    2. `Add panel` 버튼을 클릭합니다.
    3. 드롭다운에서 `Query panel`을 선택합니다.
  </Tab>
</Tabs>

<div id="query-components">
  ## 쿼리 구성 요소
</div>

<div id="expressions">
  ### Expressions
</div>

쿼리 표현식으로 W&amp;B에 저장된 run, 아티팩트, 모델, 테이블 등의 데이터를 조회하세요.

<div id="example-query-a-table">
  #### 예시: 테이블 쿼리하기
</div>

W&amp;B Table을 쿼리하고 싶다고 가정해 보겠습니다. 트레이닝 코드에서 `"cifar10_sample_table"`이라는 테이블을 로깅합니다:

```python
import wandb
with wandb.init() as run:
  run.log({"cifar10_sample_table":<MY_TABLE>})
```

쿼리 패널에서 테이블을 다음과 같이 쿼리할 수 있습니다:

```python
runs.summary["cifar10_sample_table"]
```

<Frame>
  <img src="/images/weave/basic_weave_expression.png" alt="테이블 쿼리 표현식" />
</Frame>

이를 단계별로 살펴보면 다음과 같습니다:

* `runs`는 Query Panel이 Workspace 안에 있을 때 Query Panel Expressions에 자동으로 주입되는 변수입니다. 이 변수의 &quot;값&quot;은 해당 Workspace에서 볼 수 있는 run 목록입니다. [run에서 사용할 수 있는 다양한 속성(attribute)에 대해 여기에서 자세히 알아보세요](/ko/models/track/public-api-guide/#understanding-the-different-attributes).
* `summary`는 Run의 Summary 객체를 반환하는 op입니다. op는 *매핑*되어 동작하므로, 이 op가 리스트에 있는 각 Run에 적용되어 Summary 객체들의 리스트가 결과로 생성됩니다.
* `["cifar10_sample_table"]`는 대괄호로 표시되는 Pick op이며, `predictions`를 파라미터로 받습니다. Summary 객체는 딕셔너리나 맵처럼 동작하므로, 이 연산은 각 Summary 객체에서 `predictions` 필드를 선택합니다.

대화형으로 직접 쿼리를 작성하는 방법을 알아보려면 [Query panel 데모](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr)를 참고하세요.

<div id="configurations">
  ### 설정
</div>

패널의 왼쪽 상단에 있는 톱니바퀴 아이콘을 클릭해 쿼리 설정을 펼칩니다. 여기에서 패널 유형과 결과 패널의 파라미터를 설정할 수 있습니다.

<Frame>
  <img src="/images/weave/weave_panel_config.png" alt="패널 설정 메뉴" />
</Frame>

<div id="result-panels">
  ### 결과 패널
</div>

마지막으로, 쿼리 결과 패널은 선택한 쿼리 패널과 설정에 따라 쿼리 표현식의 결과를 렌더링하여 데이터를 대화형 형태로 표시합니다. 아래 이미지는 동일한 데이터를 테이블과 플롯으로 각각 보여줍니다.

<Frame>
  <img src="/images/weave/result_panel_table.png" alt="테이블 결과 패널" />
</Frame>

<Frame>
  <img src="/images/weave/result_panel_plot.png" alt="플롯 결과 패널" />
</Frame>

<div id="basic-operations">
  ## 기본 작업
</div>

다음은 쿼리 패널에서 수행할 수 있는 일반적인 작업입니다.

<div id="sort">
  ### 정렬
</div>

열 옵션에서 정렬하기:

<Frame>
  <img src="/images/weave/weave_sort.png" alt="열 정렬 옵션" />
</Frame>

<div id="filter">
  ### 필터
</div>

쿼리 내에서 직접 필터링을 하거나 왼쪽 상단에 있는 필터 버튼(두 번째 이미지)을 사용할 수 있습니다.

<Frame>
  <img src="/images/weave/weave_filter_1.png" alt="쿼리 필터 구문" />
</Frame>

<Frame>
  <img src="/images/weave/weave_filter_2.png" alt="필터 버튼" />
</Frame>

<div id="map">
  ### Map
</div>

Map 연산은 리스트를 순회하면서 데이터의 각 요소에 함수를 적용합니다. 이는 패널 쿼리에서 직접 수행하거나, 컬럼 옵션에서 새 컬럼을 추가하여 수행할 수 있습니다.

<Frame>
  <img src="/images/weave/weave_map.png" alt="Map operation query" />
</Frame>

<Frame>
  <img src="/images/weave/weave_map.gif" alt="Map column insertion" />
</Frame>

<div id="groupby">
  ### Groupby
</div>

쿼리에서 또는 열 옵션을 통해 그룹화를 수행할 수 있습니다.

<Frame>
  <img src="/images/weave/weave_groupby.png" alt="쿼리로 그룹화" />
</Frame>

<Frame>
  <img src="/images/weave/weave_groupby.gif" alt="열 옵션으로 그룹화" />
</Frame>

<div id="concat">
  ### Concat
</div>

concat 연산을 사용하면 두 개의 테이블을 연결할 수 있으며, 패널 설정에서 연결 또는 조인을 수행할 수 있습니다.

<div id="join">
  ### 조인
</div>

쿼리 내에서 테이블을 직접 조인할 수도 있습니다. 다음 쿼리 표현식을 살펴보세요:

```python
project("luis_team_test", "weave_example_queries").runs.summary["short_table_0"].table.rows.concat.join(\
project("luis_team_test", "weave_example_queries").runs.summary["short_table_1"].table.rows.concat,\
(row) => row["Label"],(row) => row["Label"], "Table1", "Table2",\
"false", "false")
```

<Frame>
  <img src="/images/weave/weave_join.png" alt="테이블 조인 연산" />
</Frame>

왼쪽 테이블은 다음으로부터 생성되었습니다:

```python
project("luis_team_test", "weave_example_queries").\
runs.summary["short_table_0"].table.rows.concat.join
```

오른쪽에 있는 표는 다음으로부터 생성됩니다:

```python
project("luis_team_test", "weave_example_queries").\
runs.summary["short_table_1"].table.rows.concat
```

여기서:

* `(row) => row["Label"]` 은 각 테이블에서 어떤 컬럼을 기준으로 조인할지 결정하는 선택자입니다
* `"Table1"` 과 `"Table2"` 는 조인 결과에서 각 테이블을 가리키는 이름입니다
* `true` 와 `false` 는 왼쪽/오른쪽, 내부/외부 조인 방식을 설정하는 값입니다

<div id="runs-object">
  ## Runs 객체
</div>

쿼리 패널을 사용하여 `runs` 객체에 접근합니다. run 객체는 실험 기록을 저장합니다. 자세한 내용은 [Accessing runs object](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr#3.-accessing-runs-object)를 참조하세요. 간단히 요약하면, `runs` 객체에는 다음과 같은 항목이 있습니다:

* `summary`: run의 결과를 요약하는 정보를 담은 사전입니다. 정확도와 손실 같은 스칼라 값이나 대용량 파일이 포함될 수 있습니다. 기본적으로 `wandb.Run.log()`는 로깅된 시계열의 마지막 값을 summary로 설정합니다. summary의 내용을 직접 설정할 수도 있습니다. summary는 run의 출력이라고 생각하면 됩니다.
* `history`: 모델이 트레이닝되는 동안 손실처럼 변화하는 값을 저장하기 위한 사전들의 리스트입니다. `wandb.Run.log()` 명령은 이 객체에 항목을 계속 추가합니다.
* `config`: 트레이닝 run의 하이퍼파라미터나 데이터셋 아티팩트를 생성하는 run의 전처리 방법 등, run의 설정 정보를 담은 사전입니다. 이를 run의 &quot;입력&quot;이라고 생각하면 됩니다.

<Frame>
  <img src="/images/weave/weave_runs_object.png" alt="Runs 객체 구조" />
</Frame>

<div id="access-artifacts">
  ## Artifacts 액세스
</div>

Artifacts는 W&amp;B의 핵심 개념입니다. 버전이 관리되는 이름 있는 파일 및 디렉터리 컬렉션입니다. 모델 가중치, 데이터셋 및 기타 모든 파일이나 디렉터리를 추적하려면 Artifacts를 사용하세요. Artifacts는 W&amp;B에 저장되며 다른 run에서 다운로드하거나 사용할 수 있습니다. 더 자세한 내용과 예시는 [Accessing artifacts](https://wandb.ai/luis_team_test/weave_example_queries/reports/Weave-queries---Vmlldzo1NzIxOTY2?accessToken=bvzq5hwooare9zy790yfl3oitutbvno2i6c2s81gk91750m53m2hdclj0jvryhcr#4.-accessing-artifacts)에서 확인할 수 있습니다. 일반적으로 Artifacts는 `project` 객체를 통해 액세스합니다:

* `project.artifactVersion()`: 주어진 이름과 버전에 대해 프로젝트 내 특정 아티팩트 버전을 반환합니다
* `project.artifact("")`: 프로젝트 내에서 주어진 이름에 해당하는 아티팩트를 반환합니다. 이후 `.versions`를 사용해 이 아티팩트의 모든 버전 목록을 가져올 수 있습니다
* `project.artifactType()`: 프로젝트 내에서 주어진 이름에 해당하는 `artifactType`을 반환합니다. 이후 `.artifacts`를 사용해 이 타입의 모든 아티팩트 목록을 가져올 수 있습니다
* `project.artifactTypes`: 프로젝트에서 사용 가능한 모든 아티팩트 타입 목록을 반환합니다

<Frame>
  <img src="/images/weave/weave_artifacts.png" alt="Artifact 액세스 메서드" />
</Frame>