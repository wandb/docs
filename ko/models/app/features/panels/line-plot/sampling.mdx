---
title: 포인트 집계
---

라인 플롯에서 포인트 집계 방법을 사용하면 데이터 시각화의 정확성과 성능을 향상할 수 있습니다. 포인트 집계 모드는 [풀 피델리티](#full-fidelity)와 [무작위 샘플링](#random-sampling) 두 가지가 있습니다. W&amp;B에서는 기본적으로 풀 피델리티 모드를 사용합니다.

<div id="full-fidelity">
  ## Full fidelity
</div>

Full fidelity 모드를 사용하면 W&amp;B는 데이터 포인트 개수에 따라 x축을 동적으로 여러 버킷으로 나눕니다. 그런 다음 각 버킷 내에서 최소값, 최대값, 평균값을 계산하고, 선 그래프를 렌더링할 때 포인트 집계를 수행합니다.

포인트 집계를 위해 Full fidelity 모드를 사용할 때의 주요 장점은 다음 세 가지입니다:

* 극단값과 스파이크 보존: 데이터에 포함된 극단값과 스파이크를 그대로 유지합니다.
* 최소값과 최대값의 렌더링 방식 구성: W&amp;B App에서 대화형으로 최소/최대 극단값을 음영 영역으로 표시할지 여부를 결정할 수 있습니다.
* 데이터 충실도를 잃지 않고 데이터 탐색: 특정 데이터 포인트로 확대(zoom)할 때 W&amp;B가 x축 버킷 크기를 다시 계산합니다. 이를 통해 정확도를 잃지 않고 데이터를 탐색할 수 있습니다. 캐싱을 사용해 이전에 계산된 집계를 저장하여 로딩 시간을 줄이며, 이는 특히 대규모 데이터셋을 탐색할 때 유용합니다.

<div id="turn-on-full-fidelity">
  ### Full fidelity 켜기
</div>

W&amp;B는 기본적으로 full fidelity 모드를 사용합니다. 수동으로 구성하려면 다음 단계를 따르세요:

<Tabs>
  <Tab title="워크스페이스의 모든 차트">
    1. 워크스페이스로 이동합니다.
    2. 화면 오른쪽 상단에서 **Add panels** 버튼 왼쪽에 있는 톱니바퀴 아이콘을 선택합니다.
    3. 표시되는 UI 슬라이더에서 **Line plots**를 선택합니다.
    4. **Point aggregation** 섹션에서 **Full fidelity**를 선택합니다.
    5. **Smoothing** 알고리즘과 설정을 구성합니다.
    6. **Aggregation**을 **Mean**, **Min** 또는 **Max**로 설정합니다.
    7. **Apply**를 클릭합니다.
  </Tab>

  <Tab title="워크스페이스의 개별 차트">
    1. 워크스페이스로 이동합니다.
    2. 왼쪽 탭에서 **Workspace** 아이콘을 선택합니다.
    3. 구성하려는 line plot 패널 위에 마우스를 올린 다음 톱니바퀴 아이콘을 클릭합니다.
    4. 표시되는 모달 창에서 **Point aggregation method**를 **Full fidelity**로 설정합니다.
    5. **Smoothing** 알고리즘과 설정을 구성합니다.
    6. **Apply**를 클릭합니다.
  </Tab>
</Tabs>

<div id="configure-shading">
  ### 음영 구성
</div>

고충실도 선 그래프의 음영 영역에는 다음을 표시할 수 있습니다:

* **최소/최대(Min/Max)**: 각 X축 지점에 대해 최소값과 최대값 사이의 영역을 음영 처리합니다. 음영 영역은 각 버킷에서 최솟값부터 최댓값까지의 모든 점을 나타냅니다:
  $$
  \text{'{'}Min/Max Range{'}'} = [\min(x&#95;1, x&#95;2, \ldots, x&#95;n),\ \max(x&#95;1, x&#95;2, \ldots, x&#95;n)]
  $$
  여기서 $x&#95;1, x&#95;2, \ldots, x&#95;n$은(는) 해당 버킷의 값입니다.
* **표준편차(Standard deviation)**: 각 X축 지점에 대해 표준편차를 사용해 값의 변동성을 계산하고, 그에 해당하는 영역을 음영 처리합니다.
  $$
  SD = \sqrt{'{'}\frac{'{'}1{'{'}&#125;{'{'}n{'{'}&#125;\sum&#95;{'{'}i=1{'{'}&#125;^{'{'}n{'{'}&#125;(x&#95;i - \overline{x})^2{'}'}{'}'}
  $$
* **표준오차(Standard error)**: 각 X축 지점에 대해 표준편차를 표본 크기의 제곱근으로 나누어 표본 오차의 가능성을 추정합니다:
  $$
  SE = \frac{'{'}SD{'{'}&#125;{'{'}\sqrt{'{'}n{'{'}&#125;{'}'}{'}'}
  $$
* **없음(None)**: 음영 없음(기본값).

다음 이미지는 파란색 선 그래프를 보여 줍니다. 연한 파란색 음영 영역은 각 버킷의 최소값과 최대값을 나타냅니다.

<Frame>
  <img src="/images/app_ui/shaded-areas.png" alt="Shaded confidence areas" />
</Frame>

음영을 구성하려면:

1. 워크스페이스로 이동합니다.
2. 선 그래프 위에 마우스를 올린 다음 톱니바퀴 아이콘을 클릭합니다.
3. **Data** 탭에서 필요하다면 **Point aggregation**을 **Full fidelity**로 설정한 뒤, 평활화 알고리즘을 구성합니다.
4. **Grouping** 탭에서 **Group runs**를 켭니다. 선택적으로 **Group by**를 실행 속성으로 설정합니다.
5. **Agg**를 **Mean**(기본값), **Min**, 또는 **Max**로 설정합니다.
6. **Range**를 **Min/Max**, **Std Dev**, **Std Err**, 또는 **None**으로 설정합니다.
7. **Apply**를 클릭합니다.

<div id="explore-your-data-without-losing-data-fidelity">
  ### 데이터 충실도를 유지하면서 데이터 탐색하기
</div>

극단값이나 스파이크처럼 중요한 지점을 놓치지 않고 데이터셋의 특정 구간을 분석할 수 있습니다. 선형 차트(line plot)를 확대하면, W&amp;B는 각 버킷 안에서 최소값, 최대값, 평균값을 계산하는 데 사용되는 버킷 크기를 자동으로 조정합니다.

<Frame>
  <img src="/images/app_ui/zoom_in.gif" alt="Plot zoom functionality" />
</Frame>

W&amp;B는 기본적으로 x축을 동적으로 1000개의 버킷으로 나눕니다. 각 버킷에 대해 W&amp;B는 다음 값을 계산합니다:

* **Minimum**: 해당 버킷에서 가장 낮은 값
* **Maximum**: 해당 버킷에서 가장 높은 값
* **Average**: 해당 버킷에 포함된 모든 포인트의 평균값

W&amp;B는 값을 버킷 단위로 표시하면서도 전체 데이터 특성을 온전히 표현하고, 모든 차트에서 극단값이 포함되도록 렌더링합니다. 1,000개 이하의 포인트로 확대하면, 전체 충실도(full fidelity) 모드에서 추가 집계 없이 모든 데이터 포인트를 그대로 렌더링합니다.

선형 차트를 확대하려면 다음 단계를 따르세요:

1. 자신의 W&amp;B 프로젝트로 이동합니다.
2. 왼쪽 탭에서 **Workspace** 아이콘을 클릭합니다.
3. 필요하다면 워크스페이스에 선형 차트 패널을 추가하거나, 기존 선형 차트 패널로 이동합니다.
4. 확대하려는 특정 영역을 마우스로 클릭하고 드래그하여 선택합니다.

<Note>
  **Line plot grouping과 expressions**

  Line Plot Grouping을 사용할 때, W&amp;B는 선택한 모드에 따라 다음과 같이 동작합니다:

  * **Non-windowed sampling (grouping)**: 실행 간 포인트를 x축에 맞춰 정렬합니다. 동일한 x 값을 갖는 포인트가 여러 개면 그 평균을 사용하고, 그렇지 않으면 개별 포인트로 표시합니다.
  * **Windowed sampling (grouping and expressions)**: x축을 250개 버킷 또는 가장 긴 선의 포인트 수(둘 중 더 작은 값)로 나눕니다. W&amp;B는 각 버킷 내 포인트들의 평균을 계산합니다.
  * **Full fidelity (grouping and expressions)**: non-windowed sampling과 유사하지만, 성능과 디테일의 균형을 위해 실행당 최대 500개의 포인트를 가져옵니다.
</Note>

<div id="random-sampling">
  ## 랜덤 샘플링
</div>

랜덤 샘플링은 무작위로 선택된 1500개의 데이터 포인트를 사용하여 선 그래프를 렌더링합니다. 데이터 포인트가 매우 많을 때 성능 향상을 위해 유용합니다.

<Warning>
  랜덤 샘플링은 비결정론적으로 동작합니다. 즉, 랜덤 샘플링 과정에서 중요한 이상치나 급격한 변동(스파이크)이 제외될 수 있으며, 그 결과 데이터 정확도가 낮아질 수 있습니다.
</Warning>

<div id="enable-random-sampling">
  ### 랜덤 샘플링 활성화
</div>

기본적으로 W&amp;B는 전체 정밀도 모드를 사용합니다. 랜덤 샘플링을 활성화하려면 다음 단계를 따르세요:

<Tabs>
  <Tab title="워크스페이스의 모든 차트">
    1. W&amp;B 프로젝트로 이동합니다.
    2. 왼쪽 사이드바에서 **Workspace** 아이콘을 클릭합니다.
    3. 화면 오른쪽 상단에서 **Add panels** 버튼 왼쪽에 있는 톱니바퀴 아이콘을 클릭합니다.
    4. 표시되는 슬라이더에서 **Line plots**를 선택합니다.
    5. **Point aggregation** 섹션에서 **Random sampling**을 선택합니다.
  </Tab>

  <Tab title="워크스페이스의 개별 차트">
    1. W&amp;B 프로젝트로 이동합니다.
    2. 왼쪽 사이드바에서 **Workspace** 아이콘을 클릭합니다.
    3. 랜덤 샘플링을 활성화하려는 라인 플롯 패널을 선택합니다.
    4. 표시되는 모달에서 **Point aggregation method** 섹션의 **Random sampling**을 선택합니다.
  </Tab>
</Tabs>

<div id="access-non-sampled-data">
  ### 샘플링되지 않은 데이터에 액세스하기
</div>

[W&amp;B Run API](/ko/models/ref/python/public-api/runs)를 사용하면 실행 동안 로깅된 메트릭의 전체 이력에 액세스할 수 있습니다. 다음 예제는 특정 실행에서 loss 값을 가져와 처리하는 방법을 보여줍니다:

```python
# W&B API 초기화
run = api.run("l2k2/examples-numpy-boston/i0wt6xua")

# 'Loss' 메트릭의 기록 가져오기
history = run.scan_history(keys=["Loss"])

# 기록에서 loss 값 추출
losses = [row["Loss"] for row in history]
```
