---
description: 차트용 시맨틱 범례 만들기
title: 시맨틱 실행 플롯 범례
---

지표나 구성 파라미터를 기준으로 W&amp;B 실행에 색상을 지정해 시각적으로 의미 있는 선형 플롯과 범례를 만드세요. 실행의 성능 지표(최대값, 최소값 또는 최신값)에 따라 색을 지정하여 실험 전반의 패턴과 추세를 파악할 수 있습니다. W&amp;B는 선택한 파라미터의 값에 따라 실행을 자동으로 색상별 버킷으로 그룹화합니다.

실행에 지표 또는 구성 기반 색상을 사용하려면 두 가지 설정을 구성해야 합니다:

<div id="turn-on-key-based-colors">
  ### 키 기반 색상 켜기
</div>

1. W&amp;B 프로젝트로 이동합니다.
2. 프로젝트 사이드바에서 **Workspace** 탭을 선택합니다.
3. 오른쪽 상단에서 **Settings** 아이콘을 클릭합니다.
4. 열리는 드로어에서 **Runs**를 선택합니다.
5. **Run colors** 섹션에서 **Key-based colors**를 선택합니다.
6. 다음 옵션을 설정합니다:
   * **Key** 드롭다운에서 실행에 색상을 지정할 때 기준으로 사용할 메트릭을 선택합니다.
   * **Y value** 드롭다운에서 실행에 색상을 지정할 때 기준으로 사용할 y 값을 선택합니다.
   * 버킷 수를 2에서 8 사이의 값으로 설정합니다.

<Note>
  키 기반 색상을 사용하는 경우 [실행 색상 사용자 지정](/ko/models/runs/run-colors) 옵션을 사용할 수 없습니다.
</Note>

아래 섹션에서는 실행에 색상을 지정할 때 사용할 메트릭과 y 값을 설정하는 방법과, 색상 지정에 사용할 버킷을 사용자 지정하는 방법을 설명합니다.

<div id="example-key-based-coloring-with-loss-metric">
  ### 예시: 손실 메트릭을 사용한 키 기반 색상 지정
</div>

이 예시 플롯에서는 실행에 그라데이션 색상이 적용되며, 더 어두운 색은 더 높은 손실 값, 더 밝은 색은 더 낮은 손실 값을 나타냅니다. Y 값은 각 실행의 최신 손실 값을 사용하도록 `latest`로 설정합니다.

<Image src="/images/app_ui/run-colors-key-based.png" alt="키 기반 색상 지정을 사용해 손실 값에 따라 색이 입혀진 실행을 보여주는 W&B 워크스페이스." />

<div id="set-a-metric">
  ## 메트릭 설정
</div>

**Key** 드롭다운에 표시되는 메트릭 옵션은 [W&amp;B에 로그하는 키-값 쌍](/ko/models/runs/color-code-runs/#custom-metrics)과 W&amp;B에서 정의한 [기본 메트릭](/ko/models/runs/color-code-runs/#default-metrics)을 기반으로 합니다.

<div id="default-metrics">
  ### 기본 메트릭
</div>

* `Relative Time (Process)`: 실행의 상대 시간으로, 실행 시작 시점부터 경과한 시간을 초 단위로 나타냅니다.
* `Relative Time (Wall)`: 실행의 상대 시간으로, 실행 시작 시점부터 경과한 시간을 벽시계(wall clock) 기준으로 조정하여 초 단위로 나타냅니다.
* `Wall Time`: 실행의 벽시계(wall clock) 시간으로, epoch 이후 경과한 시간을 초 단위로 나타냅니다.
* `Step`: 실행의 step 번호로, 일반적으로 학습 또는 Evaluation의 진행 상황을 추적하는 데 사용됩니다.

<div id="custom-metrics">
  ### 사용자 정의 메트릭
</div>

훈련 또는 평가 스크립트에서 기록한 사용자 정의 메트릭을 기반으로 실행에 색상을 지정하고 의미 있는 플롯 범례를 만드세요. 사용자 정의 메트릭은 키-값 쌍으로 기록되며, 여기서 키는 메트릭 이름이고 값은 메트릭 값입니다.

예를 들어, 다음 코드 스니펫은 학습 루프 동안 정확도(`"acc"` 키)와 손실(`"loss"` 키)을 기록합니다:

```python
import wandb
import random

epochs = 10

with wandb.init(project="basic-intro") as run:
  # 메트릭을 기록하는 학습 루프를 시뮬레이션하는 블록
  offset = random.random() / 5
  for epoch in range(2, epochs):
      acc = 1 - 2 ** -epoch - random.random() / epoch - offset
      loss = 2 ** -epoch + random.random() / epoch + offset

      # 스크립트에서 W&B로 메트릭 기록
      run.log({"acc": acc, "loss": loss})
```

**Key** 드롭다운에서 `"acc"`와 `"loss"`를 모두 옵션으로 사용할 수 있습니다.

<div id="set-a-configuration-key">
  ## 구성 키 설정
</div>

**Key** 드롭다운에 표시되는 구성 옵션은 W&amp;B 실행을 초기화할 때 `config` 매개변수에 전달하는 키-값 쌍을 기반으로 생성됩니다. 구성 키는 일반적으로 학습 또는 평가 스크립트에서 사용하는 하이퍼파라미터나 기타 설정을 기록하는 데 사용됩니다.

```python
import wandb

config = {
  "learning_rate": 0.01,
  "batch_size": 32,
  "optimizer": "adam"
}

with wandb.init(project="basic-intro", config=config) as run:
  # 여기에 학습 코드를 작성하세요
  pass
```

**Key** 드롭다운에서는 `"learning_rate"`, `"batch_size"`, `"optimizer"` 옵션을 사용할 수 있습니다.

<div id="set-a-y-value">
  ## Y 값 설정
</div>

다음 옵션 중에서 선택할 수 있습니다:

* **Latest**: 각 선에 대해 마지막으로 기록된 스텝의 Y 값을 기준으로 색상을 결정합니다.
* **Max**: 해당 메트릭에 대해 기록된 Y 값 중 가장 큰 값을 기준으로 색상을 지정합니다.
* **Min**: 해당 메트릭에 대해 기록된 Y 값 중 가장 작은 값을 기준으로 색상을 지정합니다.

<div id="customize-buckets">
  ## 버킷 사용자 지정
</div>

버킷은 선택한 지표 또는 설정 키를 기준으로 실행을 분류하기 위해 W&amp;B가 사용하는 값 범위입니다. 버킷은 지정된 지표 또는 설정 키의 전체 값 범위에 걸쳐 균등하게 분포되며, 각 버킷에는 고유한 색상이 할당됩니다. 해당 버킷 범위에 속하는 실행은 그 색상으로 표시됩니다.

다음 예시를 살펴보세요:

<Frame>
  <img src="/images/track/color-coding-runs.png" alt="색상으로 구분된 실행" />
</Frame>

* **Key**는 `"Accuracy"`(축약형 `"acc"`)로 설정되어 있습니다.
* **Y value**는 `"Max"`로 설정되어 있습니다.

이 구성에서는 W&amp;B가 각 실행을 정확도 값에 따라 색으로 구분합니다. 색상은 옅은 노란색부터 진한 색까지 다양합니다. 더 옅은 색은 더 낮은 정확도 값을, 더 진한 색은 더 높은 정확도 값을 나타냅니다.

해당 지표에 대해 여섯 개의 버킷이 정의되어 있으며, 각 버킷은 특정 정확도 값 범위를 나타냅니다. **Buckets** 섹션에는 다음과 같은 범위의 버킷이 정의되어 있습니다:

* 버킷 1: (Min - 0.7629)
* 버킷 2: (0.7629 - 0.7824)
* 버킷 3: (0.7824 - 0.8019)
* 버킷 4: (0.8019 - 0.8214)
* 버킷 5: (0.8214 - 0.8409)
* 버킷 6: (0.8409 - Max)

아래 선 플롯에서, 가장 높은 정확도(0.8232)를 가진 실행은 진한 보라색(버킷 5)으로 표시되고, 가장 낮은 정확도(0.7684)를 가진 실행은 옅은 주황색(버킷 2)으로 표시됩니다. 다른 실행들도 각각의 정확도 값에 따라 색이 지정되며, 색상 그라디언트는 상대적인 성능을 나타냅니다.

<Frame>
  <img src="/images/track/color-code-runs-plot.png" alt="색상으로 구분된 실행 플롯" />
</Frame>