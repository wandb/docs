---
description: MLflow에서 데이터를 가져오고, W&B에 저장해 둔 데이터를 내보내거나
  업데이트합니다
title: 데이터 가져오기 및 내보내기
---

import ApiKeyCreate from "/snippets/ko/_includes/api-key-create.mdx";
import ApiKeySecurity from "/snippets/ko/_includes/api-key-security.mdx";

W&amp;B Public API를 사용하여 데이터를 내보내거나 가져올 수 있습니다.

<Note>
  이 기능을 사용하려면 Python 3.8 이상이 필요합니다.
</Note>

<div id="import-data-from-mlflow">
  ## MLFlow에서 데이터 가져오기
</div>

W&amp;B는 실험, 실행, 아티팩트, 메트릭 및 기타 메타데이터를 포함해 MLFlow에서 데이터를 가져오기를 지원합니다.

의존성을 설치합니다:

```shell
# 참고: py38 이상이 필요합니다
pip install wandb[importers]
```

W&amp;B에 로그인하세요. 처음 로그인하는 경우 화면의 안내를 따라 진행하세요.

```shell
wandb login
```

기존 MLflow 서버에서 모든 실행 가져오기:

```py
from wandb.apis.importers.mlflow import MlflowImporter

importer = MlflowImporter(mlflow_tracking_uri="...")

runs = importer.collect_runs()
importer.import_runs(runs)
```

기본적으로 `importer.collect_runs()`는 MLFlow 서버의 모든 실행을 수집합니다. 특정 실행들만 업로드하려면, 직접 실행 iterable을 만들어 importer에 전달할 수 있습니다.

```py
import mlflow
from wandb.apis.importers.mlflow import MlflowRun

client = mlflow.tracking.MlflowClient(mlflow_tracking_uri)

runs: Iterable[MlflowRun] = []
for run in mlflow_client.search_runs(...):
    runs.append(MlflowRun(run, client))

importer.import_runs(runs)
```

<Note>
  Databricks MLflow에서 가져오는 경우 먼저 [Databricks CLI를 구성](https://docs.databricks.com/dev-tools/cli/index.html)해야 할 수 있습니다.

  이전 단계에서 `mlflow-tracking-uri="databricks"`를 설정하세요.
</Note>

아티팩트 가져오기를 건너뛰려면 `artifacts=False`를 전달하면 됩니다:

```py
importer.import_runs(runs, artifacts=False)
```

특정 W&amp;B 엔터티와 프로젝트로 가져오려면 `Namespace`를 전달할 수 있습니다:

```py
from wandb.apis.importers import Namespace

importer.import_runs(runs, namespace=Namespace(entity, project))
```

{/* Per DOCS-1043, hiding this information until it gets fixed 

  ## 다른 W&B 인스턴스에서 데이터 가져오기

  <Note>
  이 기능은 베타 버전이며, 현재는 W&B 퍼블릭 클라우드에서의 가져오기만 지원합니다.
  </Note>

  종속성을 설치합니다:

  ```sh
  # 참고: py38+가 필요합니다
  pip install wandb[importers]
  ```

  소스 W&B 서버에 로그인합니다. 처음 로그인하는 경우 프롬프트를 따르십시오.

  ```sh
  wandb login
  ```

  소스 W&B 인스턴스에서 대상 W&B 인스턴스로 모든 실행과 아티팩트를 가져옵니다. 실행과 아티팩트는 대상 인스턴스의 각각의 네임스페이스로 가져옵니다.

  ```py
  from wandb.apis.importers.wandb import WandbImporter
  from wandb.apis.importers import Namespace

  importer = WandbImporter(
    src_base_url="https://api.wandb.ai",
    src_api_key="your-api-key-here",
    dst_base_url="https://example-target.wandb.io",
    dst_api_key="target-environment-api-key-here",
  )

  # src의 "entity/project"에서 dst의 "entity/project"로
  # 모든 실행, 아티팩트, 리포트를 가져옵니다
  importer.import_all(namespaces=[
    Namespace(entity, project),
    # ... 여기에 더 많은 네임스페이스를 추가하세요
  ])
  ```

  대상 네임스페이스를 변경하려면 `remapping: dict[Namespace, Namespace]`를 지정할 수 있습니다.

  ```py
  importer.import_all(
    namespaces=[Namespace(entity, project)],
    remapping={
        Namespace(entity, project): Namespace(new_entity, new_project),
    }
  )
  ```

  기본적으로 가져오기는 증분 방식입니다. 이후 가져오기는 이전 작업을 검증하려 하고, 성공/실패를 추적하는 `.jsonl` 파일을 작성합니다. 가져오기가 성공했으면 이후 검증은 건너뜁니다. 가져오기가 실패했으면 다시 시도합니다. 이 기능을 끄려면 `incremental=False`로 설정합니다.

  ```py
  importer.import_all(
    namespaces=[Namespace(entity, project)],
    incremental=False,
  )
  ```

  ### 알려진 문제 및 제한 사항

  - 대상 네임스페이스가 존재하지 않으면 W&B가 자동으로 생성합니다.
  - 대상 네임스페이스에 실행 또는 아티팩트가 동일한 ID를 가지고 있으면 W&B는 이를 증분 가져오기라고 간주합니다. 대상 실행/아티팩트는 검증되며 이전 가져오기에서 실패한 경우 다시 시도됩니다.
  - 소스 시스템에서 데이터가 삭제되는 일은 없습니다.

  1. 대량으로 가져올 때(특히 큰 아티팩트의 경우) S3 요청 속도 제한에 걸릴 수 있습니다. `botocore.exceptions.ClientError: An error occurred (SlowDown) when calling the PutObject operation` 오류가 표시되면, 한 번에 옮기는 네임스페이스 수를 줄여 가져오기 간격을 넓혀 보십시오.
  2. 가져온 실행 테이블이 워크스페이스에서 비어 있는 것처럼 보일 수 있지만, Artifacts 탭으로 이동해 해당 실행 테이블 아티팩트를 클릭하면 예상대로 테이블을 확인할 수 있습니다.
  3. 시스템 메트릭과 사용자 정의 차트(`run.log`로 명시적으로 로깅하지 않은 경우)는 가져오지 않습니다. */}

<div id="export-data">
  ## 데이터 내보내기
</div>

Public API를 사용하여 W&amp;B에 저장한 데이터를 내보내거나 업데이트할 수 있습니다. 이 API를 사용하기 전에 스크립트에서 데이터를 먼저 로깅하세요. 자세한 내용은 [Quickstart](/ko/models/quickstart/)를 참고하세요.

**Public API 사용 사례**

* **데이터 내보내기**: Jupyter Notebook에서 커스텀 분석을 하기 위해 데이터프레임을 가져옵니다. 데이터를 탐색한 후 새로운 분석 실행을 생성하고 결과를 로깅하여, 예를 들어 `wandb.init(job_type="analysis")`와 같이 분석 내용을 동기화할 수 있습니다.
* **기존 실행 업데이트**: W&amp;B 실행과 연관되어 로깅된 데이터를 업데이트할 수 있습니다. 예를 들어, 처음에는 로깅하지 않았던 아키텍처나 하이퍼파라미터와 같은 추가 정보를 포함하도록 여러 실행의 config를 업데이트하고자 할 수 있습니다.

사용 가능한 함수에 대한 자세한 내용은 [Generated Reference Docs](/ko/models/ref/python/public-api/)를 참고하세요.

<div id="create-an-api-key">
  ### API 키 생성
</div>

API 키는 사용 중인 머신을 W&amp;B에 인증하는 데 사용됩니다.

<ApiKeyCreate />

<ApiKeySecurity />

<div id="find-the-run-path">
  ### 실행 경로 찾기
</div>

Public API를 사용할 때는 `<entity>/<project>/<run_id>` 형식의 실행 경로가 자주 필요합니다. 앱 UI에서 실행 페이지를 열고 [Overview 탭](/ko/models/track/public-api-guide/#overview-tab)을 클릭하면 실행 경로를 확인할 수 있습니다.

<div id="export-run-data">
  ### 실행 데이터 내보내기
</div>

완료되었거나 실행 중인 실행에서 데이터를 다운로드합니다. 일반적인 사용 예로는 Jupyter 노트북에서 사용자 정의 분석을 위해 데이터프레임을 다운로드하거나, 자동화된 환경에서 사용자 정의 로직으로 활용하는 경우가 있습니다.

```python
import wandb

api = wandb.Api()
run = api.run("<entity>/<project>/<run_id>")
```

실행 객체에서 가장 자주 사용되는 속성은 다음과 같습니다:

| Attribute       | Meaning                                                                                                                                                                             |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `run.config`    | 학습 실행의 하이퍼파라미터나 데이터셋 Artifact를 생성하는 실행에서 사용하는 전처리 방법 등, 실행의 구성 정보를 담은 딕셔너리입니다. 실행의 입력이라고 생각하면 됩니다.                                                                                  |
| `run.history()` | 손실(loss)처럼 모델이 학습되는 동안 변화하는 값을 저장하기 위한 딕셔너리 리스트입니다. `run.log()`는 이 객체에 값을 추가(append)합니다.                                                                                            |
| `run.summary`   | 실행 결과를 요약하는 정보를 담은 딕셔너리입니다. 정확도와 손실 같은 스칼라 값일 수도 있고, 큰 파일일 수도 있습니다. 기본적으로 `run.log()`는 로그된 시계열 데이터의 최종 값을 summary에 설정합니다. summary의 내용은 직접 설정할 수도 있습니다. summary는 실행의 출력이라고 생각하면 됩니다. |

과거 실행의 데이터도 수정하거나 업데이트할 수 있습니다. 기본적으로 단일 API 객체 인스턴스는 모든 네트워크 요청을 캐시합니다. 실행 중인 스크립트에서 실시간 정보가 필요하다면 `api.flush()`를 호출해 최신 값을 가져오세요.

<div id="understanding-different-run-attributes">
  ### 다양한 실행 속성 이해하기
</div>

아래 코드 예제는 실행을 생성하고 일부 데이터를 로깅한 다음 해당 실행의 속성에 접근하는 방법을 보여줍니다:

```python
import wandb
import random

with wandb.init(project="public-api-example") as run:
    n_epochs = 5
    config = {"n_epochs": n_epochs}
    run.config.update(config)
    for n in range(run.config.get("n_epochs")):
        run.log(
            {"val": random.randint(0, 1000), "loss": (random.randint(0, 1000) / 1000.00)}
        )
```

다음 섹션에서는 위 실행 객체의 각 속성에 대해 서로 다른 출력 결과를 설명합니다

<div id="runconfig">
  ##### `run.config`
</div>

```python
{"n_epochs": 5}
```

<div id="runsummary">
  #### `run.summary`
</div>

```python
{
    "_runtime": 4,
    "_step": 4,
    "_timestamp": 1644345412,
    "_wandb": {"runtime": 3},
    "loss": 0.041,
    "val": 525,
}
```

<div id="sampling">
  ### 샘플링
</div>

기본 history 메서드는 지표를 고정된 개수의 샘플로 다운샘플링합니다(기본값은 500이며, `samples` 인수로 변경할 수 있습니다). 대규모 실행의 모든 데이터를 내보내려면 `run.scan_history()` 메서드를 사용할 수 있습니다. 자세한 내용은 [API Reference](/ko/models/ref/python/public-api)를 참조하세요.

<div id="querying-multiple-runs">
  ### 여러 실행 쿼리하기
</div>

<Tabs>
  <Tab title="DataFrame 및 CSV">
    이 예제 스크립트는 프로젝트를 조회하고 실행의 이름, 설정(config), 요약 통계를 CSV로 출력합니다. 각각 `<entity>`와 `<project>`를 사용자의 W&amp;B 엔터티와 프로젝트 이름으로 바꾸세요.

    ```python
    import pandas as pd
    import wandb

    api = wandb.Api()
    entity, project = "<entity>", "<project>"
    runs = api.runs(entity + "/" + project)

    summary_list, config_list, name_list = [], [], []
    for run in runs:
        # .summary에는 정확도와 같은
        # 지표에 대한 출력 키/값이 들어 있습니다.
        #  큰 파일을 생략하기 위해 ._json_dict를 호출합니다.
        summary_list.append(run.summary._json_dict)

        # .config에는 하이퍼파라미터가 들어 있습니다.
        #  _로 시작하는 특수 값을 제거합니다.
        config_list.append({k: v for k, v in run.config.items() if not k.startswith("_")})

        # .name은 실행의 사람이 읽기 쉬운 이름입니다.
        name_list.append(run.name)

    runs_df = pd.DataFrame(
        {"summary": summary_list, "config": config_list, "name": name_list}
    )

    runs_df.to_csv("project.csv")

    run.finish()
    ```
  </Tab>

  <Tab title="MongoDB 스타일">
    W&amp;B API는 또한 `api.runs()`를 사용해 프로젝트 내 여러 실행을 쿼리하는 방법을 제공합니다. 가장 일반적인 사용 사례는 사용자 정의 분석을 위해 실행 데이터를 내보내는 것입니다. 쿼리 인터페이스는 [MongoDB에서 사용하는 것](https://docs.mongodb.com/manual/reference/operator/query)과 동일합니다.

    ```python
    runs = api.runs(
        "username/project",
        {"$or": [{"config.experiment_name": "foo"}, {"config.experiment_name": "bar"}]},
    )
    print(f"Found {len(runs)} runs")
    ```
  </Tab>
</Tabs>

`api.runs`를 호출하면 반복 가능하며 리스트처럼 동작하는 `Runs` 객체를 반환합니다. 기본적으로 이 객체는 필요에 따라 한 번에 50개의 실행을 순차적으로 로드하지만, `per_page` 키워드 인수를 사용해 페이지마다 로드되는 개수를 변경할 수 있습니다.

`api.runs`는 `order` 키워드 인수도 받습니다. 기본 정렬 순서는 `-created_at`입니다. 오름차순으로 정렬하려면 `+created_at`을 지정하세요. config 또는 summary 값으로도 정렬할 수 있습니다. 예를 들어 `summary.val_acc` 또는 `config.experiment_name`과 같이 사용할 수 있습니다.

<div id="error-handling">
  ### 오류 처리
</div>

W&amp;B 서버와 통신 중 오류가 발생하면 `wandb.CommError`가 발생합니다. 원래 예외 객체는 `exc` 속성을 통해 확인할 수 있습니다.

<div id="get-the-latest-git-commit-through-the-api">
  ### API를 통해 최신 git 커밋 가져오기
</div>

UI에서 실행을 클릭한 다음, 실행 페이지의 Overview 탭을 클릭하면 최신 git 커밋을 확인할 수 있습니다. 이 정보는 `wandb-metadata.json` 파일에도 포함되어 있습니다. 공개 API를 사용하면 `run.commit`으로 git 해시를 가져올 수 있습니다.

<div id="get-a-runs-name-and-id-during-a-run">
  ### 실행 중에 실행의 이름과 ID 가져오기
</div>

`wandb.init()`을 호출한 후에는 스크립트에서 다음과 같이 무작위 실행 ID나 사람이 읽을 수 있는 실행 이름을 참조할 수 있습니다:

* 고유 실행 ID(8자 해시): `run.id`
* 무작위 실행 이름(사람이 읽을 수 있는 형식): `run.name`

실행에 유용한 식별자를 어떻게 지정할지 고민 중이라면, 다음과 같이 설정하는 것을 권장합니다:

* **Run ID**: 생성된 해시 값을 그대로 두세요. 이는 해당 프로젝트의 모든 실행에서 고유해야 합니다.
* **Run name**: 짧고 읽기 쉬우면서, 가능하면 고유한 이름을 사용해 차트에서 서로 다른 선을 쉽게 구분할 수 있도록 하세요.
* **Run notes**: 실행에서 무엇을 하고 있는지에 대한 간단한 설명을 적기에 좋은 위치입니다. `wandb.init(notes="your notes here")`와 같이 설정할 수 있습니다.
* **Run tags**: 실행 태그에 정보를 동적으로 기록하고, UI의 필터를 사용해 관심 있는 실행만 테이블에 표시되도록 필터링하세요. 스크립트에서 태그를 설정한 다음, UI의 실행 테이블과 실행 페이지 개요 탭에서 모두 편집할 수 있습니다. 자세한 사용 방법은 [여기](/ko/models/runs/tags/)를 참고하세요.

<div id="public-api-examples">
  ## 공개 API 예제
</div>

<div id="export-data-to-visualize-in-matplotlib-or-seaborn">
  ### matplotlib 또는 seaborn에서 시각화할 데이터 내보내기
</div>

일반적인 데이터 내보내기 패턴은 [API 예제](/ko/models/ref/python/public-api/)를 참고하세요. 브라우저에서 사용자 지정 플롯이나 확장된 실행 테이블의 다운로드 버튼을 클릭해 CSV를 내려받을 수도 있습니다.

<div id="read-metrics-from-a-run">
  ### 실행에서 메트릭 읽기
</div>

이 예제는 `"<entity>/<project>/<run_id>"`에 저장된 실행에서 `run.log({"accuracy": acc})`로 기록된 타임스탬프와 accuracy 값을 출력합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
if run.state == "finished":
    for i, row in run.history().iterrows():
        print(row["_timestamp"], row["accuracy"])
```

<div id="filter-runs">
  ### 실행 필터링
</div>

MongoDB Query Language를 사용해 실행을 필터링할 수 있습니다.

<div id="date">
  #### 날짜
</div>

```python
runs = api.runs(
    "<entity>/<project>",
    {"$and": [{"created_at": {"$lt": "YYYY-MM-DDT##", "$gt": "YYYY-MM-DDT##"}}]},
)
```

<div id="read-specific-metrics-from-a-run">
  ### 실행에서 특정 메트릭 읽기
</div>

실행에서 특정 메트릭을 가져오려면 `keys` 인수를 사용하세요. `run.history()`를 사용할 때 기본 샘플 수는 500입니다. 특정 메트릭을 포함하지 않는 기록된 스텝은 출력 데이터프레임에서 `NaN`으로 표시됩니다. `keys` 인수를 사용하면 API가 나열된 메트릭 키를 포함하는 스텝을 더 자주 샘플링합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
if run.state == "finished":
    for i, row in run.history(keys=["accuracy"]).iterrows():
        print(row["_timestamp"], row["accuracy"])
```

<div id="compare-two-runs">
  ### 두 실행 비교하기
</div>

`run1`과 `run2` 사이에서 서로 다른 구성 매개변수만 출력합니다.

```python
import pandas as pd
import wandb

api = wandb.Api()

# <entity>, <project>, <run_id>를 실제 값으로 바꾸세요
run1 = api.run("<entity>/<project>/<run_id>")
run2 = api.run("<entity>/<project>/<run_id>")


df = pd.DataFrame([run1.config, run2.config]).transpose()

df.columns = [run1.name, run2.name]
print(df[df[run1.name] != df[run2.name]])
```

출력:

```
              c_10_sgd_0.025_0.01_long_switch base_adam_4_conv_2fc
batch_size                                 32                   16
n_conv_layers                               5                    4
optimizer                             rmsprop                 adam
```

<div id="update-metrics-for-a-run-after-the-run-has-finished">
  ### 완료된 실행의 metric 업데이트
</div>

이 예제에서는 이전 실행의 accuracy 메트릭을 `0.9`로 설정합니다. 또한 이전 실행의 accuracy 히스토그램을 `numpy_array`의 히스토그램으로 수정합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
run.summary["accuracy"] = 0.9
run.summary["accuracy_histogram"] = wandb.Histogram(numpy_array)
run.summary.update()
```

<div id="rename-a-metric-in-a-completed-run">
  ### 완료된 실행에서 메트릭 이름 변경하기
</div>

이 예제에서는 테이블의 요약 열 이름을 변경합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
run.summary["new_name"] = run.summary["old_name"]
del run.summary["old_name"]
run.summary.update()
```

<Note>
  열 이름 변경은 테이블에만 적용됩니다. 차트에서는 여전히 메트릭의 원래 이름을 사용합니다.
</Note>

<div id="update-config-for-an-existing-run">
  ### 기존 실행의 config 업데이트
</div>

이 예제에서는 config 설정 중 하나를 업데이트합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
run.config["key"] = updated_value
run.update()
```

<div id="export-system-resource-consumptions-to-a-csv-file">
  ### 시스템 리소스 사용량을 CSV 파일로 내보내기
</div>

아래 코드 스니펫은 시스템 리소스 사용량을 가져와 CSV 파일로 저장합니다.

```python
import wandb

with wandb.Api().run("<entity>/<project>/<run_id>") as run:

    system_metrics = run.history(stream="events")
    system_metrics.to_csv("sys_metrics.csv")
```

<div id="get-unsampled-metric-data">
  ### 샘플링되지 않은 메트릭 데이터 가져오기
</div>

history에서 데이터를 조회하면 기본적으로 500개의 지점으로 샘플링됩니다. `run.scan_history()`를 사용해 기록된 모든 데이터 포인트를 가져올 수 있습니다. 아래는 history에 기록된 모든 `loss` 데이터 포인트를 다운로드하는 예입니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
history = run.scan_history()
losses = [row["loss"] for row in history]
```

<div id="get-paginated-data-from-history">
  ### history에서 페이지 단위로 데이터 가져오기
</div>

백엔드에서 메트릭을 가져오는 속도가 느리거나 API 요청이 타임아웃되는 경우, `scan_history`의 페이지 크기를 줄여서 개별 요청이 타임아웃되지 않도록 할 수 있습니다. 기본 페이지 크기는 500이므로, 어떤 값이 가장 잘 작동하는지 확인하기 위해 다른 크기를 시도해 볼 수 있습니다:

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
run.scan_history(keys=sorted(cols), page_size=100)
```

<div id="export-metrics-from-all-runs-in-a-project-to-a-csv-file">
  ### 프로젝트의 모든 실행에서 메트릭을 CSV 파일로 내보내기
</div>

이 스크립트는 프로젝트의 실행들을 불러와 실행 이름, 설정(config), 요약 통계(summary stats)이 포함된 데이터프레임과 CSV 파일을 생성합니다. `<entity>`와 `<project>`를 각각 본인의 W&amp;B 엔터티와 프로젝트 이름으로 바꾸세요.

```python
import pandas as pd
import wandb

api = wandb.Api()
entity, project = "<entity>", "<project>"
runs = api.runs(entity + "/" + project)

summary_list, config_list, name_list = [], [], []
for run in runs:
    # .summary는 정확도와 같은 메트릭에 대한
    #  출력 키/값을 포함합니다.
    #  대용량 파일을 생략하기 위해 ._json_dict를 호출합니다.
    summary_list.append(run.summary._json_dict)

    # .config는 하이퍼파라미터를 포함합니다.
    #  _로 시작하는 특수 값은 제거합니다.
    config_list.append({k: v for k, v in run.config.items() if not k.startswith("_")})

    # .name은 실행의 사람이 읽을 수 있는 이름입니다.
    name_list.append(run.name)

runs_df = pd.DataFrame(
    {"summary": summary_list, "config": config_list, "name": name_list}
)

runs_df.to_csv("project.csv")
```

<div id="get-the-starting-time-for-a-run">
  ### 실행 시작 시간 가져오기
</div>

이 코드 스니펫은 실행이 생성된 시각을 조회합니다.

```python
import wandb

api = wandb.Api()

run = api.run("entity/project/run_id")
start_time = run.created_at
```

<div id="upload-files-to-a-finished-run">
  ### 완료된 실행에 파일 업로드
</div>

다음 코드 스니펫은 선택한 파일을 완료된 실행에 업로드합니다.

```python
import wandb

api = wandb.Api()

run = api.run("entity/project/run_id")
run.upload_file("file_name.extension")
```

<div id="download-a-file-from-a-run">
  ### 실행에서 파일 다운로드
</div>

이 예시는 cifar 프로젝트에서 실행 ID uxte44z7에 해당하는 &quot;model-best.h5&quot; 파일을 찾아 로컬에 저장합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
run.file("model-best.h5").download()
```

<div id="download-all-files-from-a-run">
  ### 실행의 모든 파일 다운로드
</div>

이 코드는 특정 실행과 연관된 모든 파일을 찾아 로컬에 저장합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
for file in run.files():
    file.download()
```

<div id="get-runs-from-a-specific-sweep">
  ### 특정 스위프의 모든 실행 가져오기
</div>

이 코드 스니펫은 특정 스위프에 속한 모든 실행을 가져옵니다.

```python
import wandb

api = wandb.Api()

sweep = api.sweep("<entity>/<project>/<sweep_id>")
sweep_runs = sweep.runs
```

<div id="get-the-best-run-from-a-sweep">
  ### 스위프에서 최상의 실행 가져오기
</div>

다음 스니펫은 주어진 스위프에서 최상의 실행을 가져옵니다.

```python
import wandb

api = wandb.Api()

sweep = api.sweep("<entity>/<project>/<sweep_id>")
best_run = sweep.best_run()
```

`best_run`은 스윕 설정에서 `metric` 매개변수로 정의된 기준에 따라 가장 우수한 메트릭 값을 가진 실행입니다.

<div id="download-the-best-model-file-from-a-sweep">
  ### 스위프에서 가장 성능이 좋은 모델 파일 다운로드하기
</div>

이 스니펫은 여러 실행이 모델 파일을 `model.h5`로 저장한 스위프에서 검증 정확도가 가장 높은 모델 파일을 다운로드합니다.

```python
import wandb

api = wandb.Api()

sweep = api.sweep("<entity>/<project>/<sweep_id>")
runs = sorted(sweep.runs, key=lambda run: run.summary.get("val_acc", 0), reverse=True)
val_acc = runs[0].summary.get("val_acc", 0)
print(f"Best run {runs[0].name} with {val_acc}% val accuracy")

runs[0].file("model.h5").download(replace=True)
print("Best model saved to model-best.h5")
```

<div id="delete-all-files-with-a-given-extension-from-a-run">
  ### 실행에서 지정한 확장자를 가진 모든 파일 삭제
</div>

이 스니펫은 실행에서 지정한 확장자를 가진 파일을 모두 삭제합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")

extension = ".png"
files = run.files()
for file in files:
    if file.name.endswith(extension):
        file.delete()
```

<div id="download-system-metrics-data">
  ### 시스템 메트릭 데이터 다운로드
</div>

이 스니펫은 실행에 대한 모든 시스템 리소스 사용량 메트릭을 포함하는 데이터프레임을 생성한 다음, 이를 CSV 파일로 저장합니다.

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")
system_metrics = run.history(stream="events")
system_metrics.to_csv("sys_metrics.csv")
```

<div id="update-summary-metrics">
  ### 요약 메트릭 업데이트
</div>

딕셔너리를 전달해 요약 메트릭을 업데이트할 수 있습니다.

```python
summary.update({"key": val})
```

<div id="get-the-command-that-ran-the-run">
  ### 실행을 시작한 명령어 가져오기
</div>

각 실행에는 실행 개요 페이지에 해당 실행을 시작한 명령어가 기록됩니다. 이 명령어를 API를 통해 가져오려면 다음을 실행하세요:

```python
import wandb

api = wandb.Api()

run = api.run("<entity>/<project>/<run_id>")

meta = json.load(run.file("wandb-metadata.json").download())
program = ["python"] + [meta["program"]] + meta["args"]
```
