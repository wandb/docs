---
description: 하나 이상의 머신에서 W&amp;B Sweep Agent를 시작하거나 중지합니다.
title: 스윕 에이전트 시작하기
---

하나 이상의 머신에서 하나 이상의 에이전트를 실행하여 스윕을 시작합니다. 스윕 에이전트는 [스윕을 초기화](/ko/models/sweeps/initialize-sweeps)할 때 정의한 스윕 설정을 사용해 서로 다른 하이퍼파라미터 조합을 탐색합니다. W&amp;B는 스윕 에이전트가 시도하는 각 하이퍼파라미터 조합마다 새로운 run을 생성합니다.

스윕을 일시 중지, 재개, 중지 또는 취소하는 방법은 [스윕 관리](/ko/models/sweeps/pause-resume-and-cancel-sweeps)를 참고하세요.

<Note>
  계속하기 전에 다음을 확인하세요:

  * 트레이닝 스크립트가 W&amp;B와 함께 하이퍼파라미터 조합을 생성하고 추적하도록 설정되어 있는지 확인하세요. 자세한 내용은 [코드에 W&amp;B 추가](./add-w-and-b-to-your-code#training-script-with-w%26b-python-sdk)를 참조하세요.
  * 스윕을 위한 [설정 파일](./define-sweep-configuration)이 정의되어 있는지 확인하세요.
</Note>

다음 코드 스니펫은 CLI와 Jupyter Notebook 또는 Python 스크립트 내에서 에이전트를 시작하는 방법을 보여줍니다. 두 방법 모두 스윕을 초기화할 때 W&amp;B가 반환하는 스윕 ID를 제공해야 합니다. 스윕 ID 형식은 다음과 같습니다:

```bash
entity/project/sweep_ID
```

다음과 같습니다.

* `entity`: W&amp;B 사용자 이름 또는 팀 이름입니다.
* `project`: W&amp;B가 run의 출력을 저장할 프로젝트 이름입니다. 프로젝트를 지정하지 않으면 W&amp;B는 run을 &quot;Uncategorized&quot;라는 프로젝트에 저장합니다.
* `sweep_ID`: W&amp;B가 생성하는 의사 난수 기반의 고유 ID입니다.

<Tabs>
  <Tab title="CLI">
    `wandb agent` 명령을 사용해 스윕을 시작합니다. 스윕을 초기화할 때 W&amp;B가 반환한 스윕 ID를 입력하십시오.

    아래 코드 스니펫을 복사해 붙여넣고 `sweep_id`를 스윕 ID로 바꾸십시오:

    ```bash
    wandb agent sweep_id
    ```
  </Tab>

  <Tab title="Python script or notebook">
    [`wandb.agent()`](/ko/models/ref/python/functions/agent)을 사용해 스윕을 시작합니다. 스윕을 초기화할 때 W&amp;B가 반환한 스윕 ID와, 트레이닝 스크립트의 엔트리포인트가 되는 함수 이름을 함께 지정하십시오.

    아래 코드 스니펫을 복사해 붙여넣고 `<sweep_id>`를 스윕 ID로, `<function_name>`을 트레이닝 함수 이름으로 바꾸십시오:

    ```python
    wandb.agent(sweep_id="<sweep_id>", function="<function_name>")
    ```

    이 방법을 사용하는 경우, 트레이닝 스크립트를 어떻게 설정하는지에 대한 예시는 코드에 W&amp;B를 추가하기 문서의 [Python script or notebook 탭](/ko/models/sweeps/add-w-and-b-to-your-code#python-script-or-notebook)을 참고하십시오.

    <Warning>
      **Multiprocessing**

      Python 표준 라이브러리의 `multiprocessing` 또는 PyTorch의 `pytorch.multiprocessing` 패키지를 사용하는 경우, `wandb.agent()`와 `wandb.sweep()` 호출을 반드시 `if __name__ == '__main__':` 블록 안에 넣어야 합니다. 예를 들면 다음과 같습니다:

      ```python
      if __name__ == '__main__':
          wandb.agent(sweep_id="<sweep_id>", function="<function>", count="<count>")
      ```

      코드를 이 관용구로 감싸면 스크립트가 워커 프로세스에서 모듈로 import될 때가 아니라, 직접 실행될 때에만 코드가 실행되도록 보장합니다.

      멀티프로세싱에 대한 자세한 내용은 [Python standard library `multiprocessing`](https://docs.python.org/3/library/multiprocessing.html#the-spawn-and-forkserver-start-methods) 또는 [PyTorch `multiprocessing`](https://docs.pytorch.org/docs/stable/notes/multiprocessing.html#asynchronous-multiprocess-training-e-g-hogwild)을 참고하십시오. `if __name__ == '__main__':` 관용구에 대한 정보는 https://realpython.com/if-name-main-python/ 를 참고하십시오.
    </Warning>
  </Tab>
</Tabs>

<div id="limit-the-number-of-runs-a-sweep-agent-tries">
  ### 스윕 에이전트가 시도하는 run 수 제한하기
</div>

<Warning>
  Random 및 Bayesian 검색은 무기한 실행됩니다. 반드시 명령줄, Python 스크립트, 또는 [Sweeps UI](./visualize-sweep-results)에서 직접 프로세스를 중지해야 합니다.
</Warning>

스윕 에이전트가 시도해야 하는 run 수를 지정합니다. 다음 코드 스니펫은 CLI와 Jupyter Notebook, Python 스크립트에서 [W&amp;B Runs](/ko/models/ref/python/experiments/run)의 최대 개수를 설정하는 방법을 보여줍니다.

<Tabs>
  <Tab title="CLI">
    먼저 [`wandb sweep`](/ko/models/ref/cli/wandb-sweep) 명령으로 스윕을 초기화합니다. 자세한 내용은 [Initialize sweeps](./initialize-sweeps)를 참조하세요.

    ```
    wandb sweep config.yaml
    ```

    다음으로, `count` 플래그에 정수 값을 전달해서 시도할 run의 최대 개수를 설정합니다.

    ```python
    NUM=10
    SWEEPID="dtzl1o7u"
    wandb agent --count $NUM $SWEEPID
    ```
  </Tab>

  <Tab title="Python 스크립트 또는 노트북">
    먼저 스윕을 초기화합니다. 자세한 내용은 [Initialize sweeps](./initialize-sweeps)를 참조하세요.

    ```
    sweep_id = wandb.sweep(sweep_config)
    ```

    다음으로 스윕 작업을 시작합니다. 스윕 초기화 과정에서 생성된 스윕 ID를 전달합니다. `count` 매개변수에 정수 값을 전달해서 시도할 run의 최대 개수를 설정합니다.

    ```python
    sweep_id, count = "dtzl1o7u", 10
    wandb.agent(sweep_id, count=count)
    ```

    <Warning>
      같은 스크립트나 노트북에서 스윕 에이전트가 종료된 이후에 새 run을 시작하는 경우, 새 run을 시작하기 전에 반드시 `wandb.teardown()`을 호출해야 합니다.
    </Warning>
  </Tab>
</Tabs>