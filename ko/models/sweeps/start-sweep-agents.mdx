---
title: 스윕 에이전트 시작하기
description: 하나 또는 여러 대의 머신에서 W&B 스윕 에이전트 를 시작하거나 중지합니다.
---

하나 이상의 머신에서 하나 이상의 에이전트로 Sweeps 를 시작하세요. Sweep 에이전트는 [Sweeps 초기화](/models/sweeps/initialize-sweeps) 시 정의한 sweep 구성을 사용하여 다양한 하이퍼파라미터 조합을 탐색합니다. W&B는 sweep 에이전트가 시도하는 각 하이퍼파라미터 조합에 대해 새로운 run 을 생성합니다.

Sweeps 를 일시 중지, 재개, 중지 또는 취소하는 방법은 [Sweeps 관리](/models/sweeps/pause-resume-and-cancel-sweeps) 를 참조하세요.

<Note>
계속하기 전에 다음 사항을 확인하세요:
* W&B로 하이퍼파라미터 조합을 생성하고 추적하도록 트레이닝 스크립트를 설정했는지 확인하세요. 자세한 내용은 [코드에 W&B 추가하기](./add-w-and-b-to-your-code#training-script-with-w%26b-python-sdk) 를 참조하세요.
* Sweeps 에 대한 [설정 파일](./define-sweep-configuration) 이 정의되어 있는지 확인하세요.
</Note>

다음 코드조각은 CLI와 Jupyter Notebook 또는 Python 스크립트 내에서 에이전트를 시작하는 방법을 보여줍니다. 두 방법 모두 Sweeps 를 초기화할 때 W&B가 반환한 sweep ID를 제공해야 합니다. sweep ID는 다음과 같은 형식입니다:

```bash
entity/project/sweep_ID
```

각 항목의 의미는 다음과 같습니다:

* `entity`: 사용자의 W&B 사용자 이름 또는 팀 이름입니다.
* `project`: W&B가 run 의 결과를 저장할 프로젝트 이름입니다. 프로젝트를 지정하지 않으면 W&B는 해당 run 을 "Uncategorized"라는 프로젝트에 넣습니다.
* `sweep_ID`: W&B에서 생성한 의사 난수 기반의 고유 ID입니다.

<Tabs>
<Tab title="CLI">
`wandb agent` 커맨드를 사용하여 Sweeps 를 시작합니다. Sweeps 를 초기화할 때 W&B가 반환한 sweep ID를 입력하세요.

아래의 코드조각을 복사하여 붙여넣고 `sweep_id`를 사용자의 sweep ID로 바꾸세요:

```bash
wandb agent sweep_id
```
</Tab>
<Tab title="Python script or notebook">
[`wandb.agent()`](/models/ref/python/functions/agent) 를 사용하여 Sweeps 를 시작합니다. Sweeps 를 초기화할 때 W&B가 반환한 sweep ID와 트레이닝 스크립트의 진입점(entrypoint)이 되는 함수 이름을 입력하세요.

아래의 코드조각을 복사하여 붙여넣고 `<sweep_id>`를 사용자의 sweep ID로, `<function_name>`을 트레이닝 함수 이름으로 바꾸세요:

```python
wandb.agent(sweep_id="<sweep_id>", function="<function_name>")
```

이 방법을 사용하는 경우 트레이닝 스크립트를 설정하는 방법은 코드에 W&B 추가하기의 [Python script or notebook 탭](/models/sweeps/add-w-and-b-to-your-code#python-script-or-notebook) 예시를 참조하세요.

<Warning>
**멀티프로세싱(Multiprocessing)**

Python 표준 라이브러리의 `multiprocessing` 또는 PyTorch의 `pytorch.multiprocessing` 패키지를 사용하는 경우, `wandb.agent()` 및 `wandb.sweep()` 호출을 `if __name__ == '__main__':`으로 감싸야 합니다. 예시:

```python
if __name__ == '__main__':
    wandb.agent(sweep_id="<sweep_id>", function="<function>", count="<count>")
```

이 컨벤션으로 코드를 감싸면 스크립트가 직접 실행될 때만 코드가 실행되고, 워커 프로세스에서 모듈로 임포트될 때는 실행되지 않도록 보장합니다.

멀티프로세싱에 대한 자세한 내용은 [Python 표준 라이브러리 `multiprocessing`](https://docs.python.org/3/library/multiprocessing.html#the-spawn-and-forkserver-start-methods) 또는 [PyTorch `multiprocessing`](https://docs.pytorch.org/docs/stable/notes/multiprocessing.html#asynchronous-multiprocess-training-e-g-hogwild) 을 참조하세요. `if __name__ == '__main__':` 컨벤션에 대한 정보는 https://realpython.com/if-name-main-python/ 을 참조하세요.
</Warning>
</Tab>
</Tabs>


### sweep 에이전트가 시도하는 run 횟수 제한하기

<Warning>
Random search와 베이지안 탐색은 무한히 실행됩니다. 커맨드라인, Python 스크립트 내부 또는 [Sweeps UI](./visualize-sweep-results) 에서 프로세스를 직접 중지해야 합니다.
</Warning>

sweep 에이전트가 시도해야 할 run 의 횟수를 지정하세요. 다음 코드조각은 CLI와 Jupyter Notebook, Python 스크립트에서 최대 [W&B Runs](/models/ref/python/experiments/run) 횟수를 설정하는 방법을 보여줍니다.

<Tabs>
<Tab title="CLI">
먼저, [`wandb sweep`](/models/ref/cli/wandb-sweep) 커맨드로 Sweeps 를 초기화합니다. 자세한 내용은 [Sweeps 초기화](./initialize-sweeps) 를 참조하세요.

```
wandb sweep config.yaml
```

다음으로, 시도할 최대 run 횟수를 설정하기 위해 count 플래그에 정수 값을 전달합니다.

```python
NUM=10
SWEEPID="dtzl1o7u"
wandb agent --count $NUM $SWEEPID
```
</Tab>
<Tab title="Python script or notebook">
먼저, Sweeps 를 초기화합니다. 자세한 내용은 [Sweeps 초기화](./initialize-sweeps) 를 참조하세요.

```
sweep_id = wandb.sweep(sweep_config)
```

다음으로, sweep 작업을 시작합니다. sweep 초기화 시 생성된 sweep ID를 제공하세요. 시도할 최대 run 횟수를 설정하기 위해 count 파라미터에 정수 값을 전달합니다.

```python
sweep_id, count = "dtzl1o7u", 10
wandb.agent(sweep_id, count=count)
```

<Warning>
동일한 스크립트나 노트북 내에서 sweep 에이전트가 종료된 후 새로운 run 을 시작하려면, 새로운 run 을 시작하기 전에 `wandb.teardown()`을 호출해야 합니다.
</Warning>
</Tab>
</Tabs>