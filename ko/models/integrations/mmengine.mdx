---
title: MMEngine
---

[OpenMMLab](https://github.com/open-mmlab)의 MMEngine은 PyTorch 기반 딥러닝 모델 트레이닝을 위한 기반 라이브러리입니다. MMEngine은 OpenMMLab 알고리즘 라이브러리를 위한 차세대 트레이닝 아키텍처를 구현하여, OpenMMLab 내 30개가 넘는 알고리즘 라이브러리에 대해 통합 실행 기반을 제공합니다. 핵심 구성 요소에는 트레이닝 엔진, 평가 엔진, 모듈 관리가 포함됩니다.

[W&amp;B](https://wandb.ai/site)는 전용 [`WandbVisBackend`](https://mmengine.readthedocs.io/en/latest/api/generated/mmengine.visualization.WandbVisBackend.html#mmengine.visualization.WandbVisBackend)를 통해 MMEngine에 직접 통합되어 있으며, 이를 사용해서 다음을 수행할 수 있습니다.

* 트레이닝 및 평가 메트릭을 로깅합니다.
* 실험 설정을 로깅하고 관리합니다.
* 그래프, 이미지, 스칼라 등의 추가 정보를 로깅합니다.

<div id="get-started">
  ## 시작하기
</div>

`openmim`과 `wandb`를 설치합니다.

<Tabs>
  <Tab title="Command Line">
    ```bash
    pip install -q -U openmim wandb
    ```
  </Tab>

  <Tab title="Notebook">
    ```bash
    !pip install -q -U openmim wandb
    ```
  </Tab>
</Tabs>

이어서 `mim`을 사용해 `mmengine`과 `mmcv`를 설치합니다.

<Tabs>
  <Tab title="Command Line">
    ```bash
    mim install -q mmengine mmcv
    ```
  </Tab>

  <Tab title="Notebook">
    ```bash
    !mim install -q mmengine mmcv
    ```
  </Tab>
</Tabs>

<div id="use-the-wandbvisbackend-with-mmengine-runner">
  ## `WandbVisBackend`를 MMEngine Runner와 함께 사용하기
</div>

이 섹션에서는 [`mmengine.runner.Runner`](https://mmengine.readthedocs.io/en/latest/api/generated/mmengine.runner.Runner.html#mmengine.runner.Runner)를 사용하여 `WandbVisBackend`를 활용하는 전형적인 워크플로를 보여줍니다.

1. 시각화 설정에서 `visualizer`를 정의합니다.

   ```python
   from mmengine.visualization import Visualizer

   # define the visualization configs
   visualization_cfg = dict(
       name="wandb_visualizer",
       vis_backends=[
           dict(
               type='WandbVisBackend',
               init_kwargs=dict(project="mmengine"),
           )
       ],
       save_dir="runs/wandb"
   )

   # get the visualizer from the visualization configs
   visualizer = Visualizer.get_instance(**visualization_cfg)
   ```

   <Note>
     `init_kwargs`에 [W&amp;B run 초기화](/ko/models/ref/python/functions/init)의 입력 파라미터로 사용할 인자들을 사전 형태로 전달합니다.
   </Note>

2. `visualizer`를 사용해 `runner`를 초기화하고, `runner.train()`을 호출합니다.

   ```python
   from mmengine.runner import Runner

   # build the mmengine Runner which is a training helper for PyTorch
   runner = Runner(
       model,
       work_dir='runs/gan/',
       train_dataloader=train_dataloader,
       train_cfg=train_cfg,
       optim_wrapper=opt_wrapper_dict,
       visualizer=visualizer, # pass the visualizer
   )

   # start training
   runner.train()
   ```

<div id="use-the-wandbvisbackend-with-openmmlab-computer-vision-libraries">
  ## `WandbVisBackend`를 OpenMMLab 컴퓨터 비전 라이브러리와 함께 사용하기
</div>

`WandbVisBackend`는 [MMDetection](https://mmdetection.readthedocs.io/)과 같은 OpenMMLab 계열 컴퓨터 비전 라이브러리에서 실험을 손쉽게 추적하는 데에도 사용할 수 있습니다.

```python
# 기본 런타임 설정에서 기본 설정을 상속합니다
_base_ = ["../_base_/default_runtime.py"]

# 기본 설정의 `visualizer`에 있는 `vis_backends`에
# `WandbVisBackend` 설정 사전을 할당합니다
_base_.visualizer.vis_backends = [
    dict(
        type='WandbVisBackend',
        init_kwargs={
            'project': 'mmdet',
            'entity': 'geekyrakshit'
        },
    ),
]
```
