---
description: OpenAI API와 함께 W&B를 사용하는 방법
title: OpenAI API
---

import { ColabLink } from '/snippets/ko/_includes/colab-link.mdx';

<ColabLink url="https://colab.research.google.com/github/wandb/examples/blob/master/colabs/openai/OpenAI_API_Autologger_Quickstart.ipynb" />

W&amp;B OpenAI API 통합을 사용해 파인튜닝된 모델을 포함한 모든 OpenAI 모델에 대한 요청, 응답, 토큰 수, 모델 메타데이터를 로깅하세요.

<Note>
  [OpenAI 파인튜닝 통합](./openai-fine-tuning)을 참고해 W&amp;B로 파인튜닝 실험, 모델, 데이터셋을 추적하고 그 결과를 동료들과 공유하는 방법을 알아보세요.
</Note>

API 입력과 출력을 로깅하면 서로 다른 프롬프트의 성능을 빠르게 평가하고, 온도(temperature)와 같은 다양한 모델 설정을 비교하며, 토큰 사용량 등 기타 사용 지표를 추적할 수 있습니다.

<Frame>
  <img src="/images/integrations/open_ai_autolog.png" alt="OpenAI API 자동 로깅" />
</Frame>

<div id="install-openai-python-api-library">
  ## OpenAI Python API 라이브러리 설치
</div>

W&amp;B autolog 통합 기능은 OpenAI 0.28.1 버전 이하에서 동작합니다.

OpenAI Python API 0.28.1 버전을 설치하려면 다음 명령을 실행하세요:

```python
pip install openai==0.28.1
```

<div id="use-the-openai-python-api">
  ## OpenAI Python API 사용하기
</div>

<div id="1-import-autolog-and-initialise-it">
  ### 1. autolog를 가져와 초기화하기
</div>

먼저 `wandb.integration.openai`에서 `autolog`를 가져와 초기화합니다.

```python
import os
import openai
from wandb.integration.openai import autolog

autolog({"project": "gpt5"})
```

선택적으로 `wandb.init()`에서 받는 인자를 담은 딕셔너리를 `autolog`에 전달할 수 있습니다. 여기에는 프로젝트 이름, 팀 이름, 엔터티 등 다양한 값이 포함됩니다. [`wandb.init()`](/ko/models/ref/python/functions/init)에 대한 자세한 내용은 API Reference 가이드를 참조하세요.

<div id="2-call-the-openai-api">
  ### 2. OpenAI API 호출
</div>

이제 OpenAI API를 호출할 때마다 해당 호출이 자동으로 W&amp;B에 로깅됩니다.

```python
os.environ["OPENAI_API_KEY"] = "XXX"

chat_request_kwargs = dict(
    model="gpt-3.5-turbo",
    messages=[
        {"role": "system", "content": "You are a helpful assistant."},
        {"role": "user", "content": "Who won the world series in 2020?"},
        {"role": "assistant", "content": "The Los Angeles Dodgers"},
        {"role": "user", "content": "Where was it played?"},
    ],
)
response = openai.ChatCompletion.create(**chat_request_kwargs)
```

<div id="3-view-your-openai-api-inputs-and-responses">
  ### 3. OpenAI API 입력과 응답 확인하기
</div>

**1단계**에서 `autolog`에 의해 생성된 W&amp;B [실행](/ko/models/runs/) 링크를 클릭하세요. 그러면 W&amp;B App의 프로젝트 워크스페이스로 이동합니다.

사용한 OpenAI LLM의 트레이스 테이블, 트레이스 타임라인, 모델 아키텍처를 확인하려면 생성한 실행을 선택하세요.

<div id="turn-off-autolog">
  ## autolog 비활성화
</div>

OpenAI API 사용을 마친 후에는 `disable()`을 호출해 모든 W&amp;B 프로세스를 종료할 것을 W&amp;B에서 권장합니다.

```python
autolog.disable()
```

이제 입력과 생성 결과가 W&amp;B에 로깅되며, 분석하거나 동료들과 공유할 수 있습니다.
